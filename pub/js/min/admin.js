(function(u,y,h,R){var l=function(){var d={};return{register:function(f,h){d[f]=h},require:function(f,h){var p=d[f];if(!p)throw Error('CommonJS error: failed to require("'+h+'")');return p}}}();l.register("$1",function(d,f,h){function p(b){var c=typeof b;if("string"===c)if(/[^ <>!=()%^&|?:n0-9]/.test(b))console.error("Invalid plural: "+b);else return new Function("n","return "+b);"function"!==c&&(b=function(a){return 1!=a});return b}d.init=function(b){function c(g,b,e){return(g=a[g])&&g[e]?g[e]:b||
""}b=p(b);var a={};return{_:function(a){return c(a,a,0)},_x:function(a,b){return c(b+"\u0004"+a,a,0)},_n:function(a,m,e){e=Number(b(e));isNaN(e)&&(e=0);return c(a,e?m:a,e)},load:function(g){a=g||{};return this},pluraleq:function(a){b=p(a);return this}}};return d}({},u,y));l.register("$2",function(d,f,h){Array.prototype.indexOf||(Array.prototype.indexOf=function(d){if(null==this)throw new TypeError;var b,c=Object(this),a=c.length>>>0;if(0===a)return-1;b=0;1<arguments.length&&(b=Number(arguments[1]),
b!=b?b=0:0!=b&&Infinity!=b&&-Infinity!=b&&(b=(0<b||-1)*Math.floor(Math.abs(b))));if(b>=a)return-1;for(b=0<=b?b:Math.max(a-Math.abs(b),0);b<a;b++)if(b in c&&c[b]===d)return b;return-1});return d}({},u,y));l.register("$3",function(d,f,h){d.trim=function(d,b){for(b||(b=" \n");d&&-1!==b.indexOf(d.substr(0,1));)d=d.substr(1);for(;d&&-1!==b.indexOf(d.substr(-1));)d=d.substr(0,d.length-1);return d};d.sprintf=function(d){var b=0,c,a=[].slice.call(arguments,1);return d.replace(/%(s|u|%)/g,function(g,m){if("%"===
m)return"%";c=a[b++];return String(c)||""})};return d}({},u,y));l.register("$46",function(d,f,h){function p(){var b=a;g&&(b="("+g+") "+b);h.title=b}function b(b){b||(b=c);b!==a&&(a=b,p())}var c=h.title,a=c,g=0;d.set=function(a){b(a);return d};d.get=function(){return a};d.replace=function(g,e){b(a.replace(g,e));return d};d.badge=function(a){isNaN(a=Number(a))&&(a=0);a!==g&&(g=a,p());return d};return d}({},u,y));l.register("$39",function(d,f,h){function p(g){a||f._gat&&(a=_gat._createTracker(b,"loco"));
if(a){var m=g.shift();a[m].apply(a,g)}else c&&c.push(g);return d}var b,c,a;d._init=function(a){if(b=a.code){c=f._gaq||(f._gaq=[]);c.push(["_setAccount",b]);c.push(["_trackPageview"]);c.push(["_setDomainName",a.host]);a=h.createElement("script");a.type="text/javascript";a.async=!0;a.src=("https:"==h.location.protocol?"https://ssl":"http://www")+".google-analytics.com/ga.js";var m=h.getElementsByTagName("script")[0];m.parentNode.insertBefore(a,m)}return d};d.event=function(a,b,e,k){return p(["_trackEvent",
a||"",b||"",e||"",k||0])};d.page=function(a,b){var e={page:a||location.pathname+location.hash,title:b||l.require("$46","title.js").get()};return p(["_trackPageview",e])};return d}({},u,y));l.register("$40",function(d,f,h){function p(a,g){if(b)b[a](g);else f.ga&&ga(a,g);return d}var b,c;d._init=function(a){a.code&&(function(a,b,e,k,c,t,d){a.GoogleAnalyticsObject=c;a[c]=a[c]||function(){(a[c].q=a[c].q||[]).push(arguments)};a[c].l=1*new Date;t=b.createElement(e);d=b.getElementsByTagName(e)[0];t.async=
1;t.src=k;d.parentNode.insertBefore(t,d)}(f,h,"script","//www.google-analytics.com/analytics.js","ga"),ga("create",a.code,{alwaysSendReferrer:!0,userId:a.user}),a.custom&&p("set",a.custom),d.page(),ga(function(a){b=a}));return d};d.event=function(a,b,c,e){return p("send",{hitType:"event",eventCategory:a||"",eventAction:b||"",eventLabel:c||"",eventValue:Number(e||0)})};d.page=function(a,b){var m={hitType:"pageview",page:a||location.pathname+location.hash,title:b||l.require("$46","title.js").get()};
m.location=location.protocol+"//"+location.hostname+m.page;c&&p("set",{referrer:c});c=m.location;return p("send",m)};d.reset=function(){c=location.href;var a={page:location.pathname+location.hash,title:l.require("$46","title.js").get(),location:c};p("set",a);return d};return d}({},u,y));l.register("$31",function(d,f,E){function p(a,c){h(a).click(function(a){b&&b.event(c,"click",this.getAttribute("href")||"");return!0});a=null;return d}var b,c=location.hostname,a="/help"===location.pathname.substr(0,
5);d.init=function(a){!b&&a&&(c=a.host||(a.host=c),b=a.legacy?l.require("$39","legacy.js"):l.require("$40","universal.js"),b._init(a));return d};d.link=function(b){for(var m=b.getAttribute("href");m&&"#"!==m;){if(0===m.indexOf("#"))return p(b,"anchor");if("/help"===m.substr(0,5)&&!a)b.setAttribute("target","_blank");else if(0===m.indexOf("http")||0===m.indexOf("//")){if(-1!==m.indexOf(c)&&/^(https?:)*\/\/([^\/]+)/.exec(m)&&c===RegExp.$2)break;b.setAttribute("target","_blank");p(b,"external")}break}return d};
d.page=function(){b&&b.page.apply(b,arguments);return d};d.event=function(){b&&b.event.apply(b,arguments);return d};d.reset=function(){b&&b.reset&&b.reset();return d};return d}({},u,y));l.register("$35",function(d,f,l){function p(a,b,m,e,k){function q(){s&&clearTimeout(s);r&&r.fadeOut(400,function(){h(this).remove();r=null});return!1}function t(){d();-1!==e&&(s=setTimeout(q,e||2E3));r.off("mouseleave").on("mouseenter",d)}function d(){s&&clearTimeout(s);s=null;r.off("mouseenter").on("mouseleave",t)}
var s;c||(c=l.createElement("div"),c.id="growls",l.body.appendChild(c));var r=h('<div class="growl growl-'+m+'"><div><a class="close" href="#"><span>X</span></a><span class="badge"></span><p class="message"></p><small class="caption"></small></div></div>');r.find("p").text(a||"Empty message");b?r.find("small").text(b):r.find("small").remove();if(k.length){k.push({label:"Cancel",callback:q,css:"cancel"});var v,n=h('<form action="#" class="dialog"></form>');b=function(a,b){v=h('<input type="button" value="'+
b.label+'" class="butt '+(b.css||"")+'" />');v.click(function(a){"function"===typeof b.callback&&b.callback(a,{close:q})});n.append(v);return v};for(a=0;a<k.length;a++)b(a,k[a]);r.append(n)}h(c).prepend(r.hide().fadeIn(400));r.find("a").click(q);t()}var b,c;d.init=function(){if(!b)return b=f.alert,f.alert=function(a){a=String(a).split("\n");var b=a[1]&&a.slice(1).join("\n");d.alert(a[0],b)},d};d.debug=function(a){b(a);return d};d.alert=function(a,c,m,e,k){try{return p(a,c||"",m||"alert",e||4E3,k||
[]),!0}catch(q){return a+="\n\n--\n"+(q.message||q),b.call(f,a),!1}};d.success=function(a,b,c){return d.alert(a,b,"success",c||2E3)};d.dialog=function(a,b,c,e){return d.alert(a,b,e||"alert",-1,c)};return d}({},u,y));l.register("$41",function(d,f,l){function p(a){return 27===a.keyCode&&r&&v?(G(),a.preventDefault(),!1):!0}function b(a){if(r){a=f.innerWidth;var b=f.innerHeight;a!==F&&(F=a,z(C));b!==B&&(B=b,s&&c())}return!0}function c(){var a=m.outerHeight(!0)-s.clientHeight;s.style.maxHeight=String(B-
a)+"px"}function a(a){a?(q.show(),e.addClass("has-title")):(q.hide(),e.removeClass("has-title"))}var g,m,e,k,q,t,A,s,r=!1,v=!1,n=!1,I,D,F,C,B,w=d.init=function(){if(!g){g=h('<div id="overlay"></div>');m=h('<div class="overlay-frame"></div>');e=h('<div class="overlay-container"></div>');q=h('<div class="overlay-title"><span class="icon"></span><span class="title">Untitled</span></div>');t=h("<nav></nav>");A=h('<a class="overlay-close" href="#"><span>x</span></a>');k=h('<div class="overlay-bg"></div>');
g.append(m.append(e)).append(k).prependTo(l.body);h(l).on("keydown",p);h(f).resize(b);F=f.innerWidth;B=f.innerHeight;D=e.outerWidth(!0)-e.width()+(m.innerWidth()-m.width());I=parseInt(e.css("width"));if(!I||isNaN(I))I=e.width();t.hide().prependTo(m);q.append(A.hide()).hide().prependTo(m);g.hide()}return g},z=d.width=function(a){var b=w();if(null===a)m.css("width",""),e.css("width","");else{a=a||I||640;x=a+D;C=a;var n=F;x>n?(x=n,a=x-D,b.addClass("spill")):b.removeClass("spill");m.css("width",x+"px");
e.css("width",a+"px")}return d};d.autoSize=function(){var a=w(),b=I||0;e.children().each(function(a,n){b=Math.max(b,h(n).outerWidth(!0))});z(b);if(s=a.find("div.overlay-scroll")[0])B=f.innerHeight,c();return d};d.css=function(a){w().attr("class",a);return d};d.html=function(a){w();f.innerShiv&&(a=innerShiv(a,!1));return e.html(a)};d.append=function(a){w();a instanceof jQuery||(a=h(a));e.append(a);return d};var G=d.close=function(a){if(r){var b=function(){w().hide();h(l.body).removeClass("has-overlay");
r=!1;e.html("");r=null;g.trigger("overlayClosed",[d])};null==a&&(a=300);g.trigger("overlayClosing",[d]);a?g.fadeOut(a,b):b()}return d};d.title=function(b,e){w();var r="",c=q.find("span");e&&/^lang lang-(\w+)/.exec(e)&&(r=RegExp.$1);c.eq(0).attr("class",e||"icon").attr("lang",r);n=b||"";c.eq(1).text(n);null!=b?a(!0):v||a(!1);return d};d.enableClose=function(){w();v=!0;A.off("click").on("click",function(a){G();return!1});a(!0);A.show();return d};d.disableClose=function(){w();v=!1;A.hide();r&&n||a(!1);
return d};d.enableNav=function(a){t.append(a);t.show();return d};d.disableNav=function(){t.html("").hide();return d};d.open=function(){w();e.html("");z(I);g.attr("class","");h(l.body).addClass("has-overlay");w().show();r=!0;d.title(null);v&&a(!0);g.trigger("overlayOpened",[d]);return d};d.listen=function(a){w().on("overlayClosed",a);return d};d.unlisten=function(a){w().off("overlayClosed",a);return d};return d}({},u,y));l.register("$11",function(d,f,l){function p(a,b){this.$element=h(a);this.options=
b;this.enabled=!0;this.fixTitle()}d.init=function(a,g){var m={fade:!0,offset:5,delayIn:b,delayOut:c,anchor:a.attr("data-anchor"),gravity:a.attr("data-gravity")||"s"};g&&(m=h.extend({},m,g));a.tipsy(m)};d.delays=function(a,g){b=a||150;c=g||100};d.kill=function(){h("div.tipsy").remove()};d.text=function(a,b){b.data("tipsy").setTitle(a)};var b,c;d.delays();h(l.body).on("overlayOpened overlayClosing",function(a){d.kill();return!0});p.prototype={show:function(){var a=this.getTitle();if(a&&this.enabled){var b=
this.tip();b.find(".tipsy-inner")[this.options.html?"html":"text"](a);b[0].className="tipsy";b.remove().css({top:0,left:0}).prependTo(l.body);var a=(a=this.options.anchor)?this.$element.find(a):this.$element,a=h.extend({},a.offset(),{width:a[0].offsetWidth,height:a[0].offsetHeight}),c=b[0].offsetWidth,e=b[0].offsetHeight,k="function"==typeof this.options.gravity?this.options.gravity.call(this.$element[0]):this.options.gravity,q;switch(k.charAt(0)){case "n":q={top:a.top+a.height+this.options.offset,
left:a.left+a.width/2-c/2};break;case "s":q={top:a.top-e-this.options.offset,left:a.left+a.width/2-c/2};break;case "e":q={top:a.top+a.height/2-e/2,left:a.left-c-this.options.offset};break;case "w":q={top:a.top+a.height/2-e/2,left:a.left+a.width+this.options.offset}}2==k.length&&("w"==k.charAt(1)?q.left=a.left+a.width/2-15:q.left=a.left+a.width/2-c+15);b.css(q).addClass("tipsy-"+k);b.find(".tipsy-arrow")[0].className="tipsy-arrow tipsy-arrow-"+k.charAt(0);this.options.className&&b.addClass("function"==
typeof this.options.className?this.options.className.call(this.$element[0]):this.options.className);b.addClass("in")}},hide:function(){this.tip().remove()},fixTitle:function(){var a=this.$element,b=a.attr("title")||"";(b||"string"!==typeof a.attr("original-title"))&&a.attr("original-title",b).removeAttr("title")},getTitle:function(){var a,b=this.$element,c=this.options;this.fixTitle();"string"==typeof c.title?a=b.attr("title"==c.title?"original-title":c.title):"function"==typeof c.title&&(a=c.title.call(b[0]));
return(a=(""+a).replace(/(^\s*|\s*$)/,""))||c.fallback},setTitle:function(a){var b=this.$element;b.attr("default-title")||b.attr("default-title",this.getTitle());null==a&&(a=b.attr("default-title")||this.getTitle());b.attr("original-title",a);if(this.$tip)this.$tip.find(".tipsy-inner")[this.options.html?"html":"text"](a)},tip:function(){this.$tip||(this.$tip=h('<div class="tipsy"></div>').html('<div class="tipsy-arrow"></div><div class="tipsy-inner"></div>'),this.$tip.data("tipsy-pointee",this.$element[0]));
return this.$tip},validate:function(){this.$element[0].parentNode||(this.hide(),this.options=this.$element=null)},enable:function(){this.enabled=!0},disable:function(){this.hide();this.enabled=!1},toggleEnabled:function(){this.enabled=!this.enabled}};h.fn.tipsy=function(a){function b(e){var c=h.data(e,"tipsy");c||(c=new p(e,h.fn.tipsy.elementOptions(e,a)),h.data(e,"tipsy",c));return c}function c(){var e=b(this),k=a.delayIn;e.hoverState="in";0==k?e.show():(e.fixTitle(),setTimeout(function(){"in"==
e.hoverState&&e.show()},k))}function e(){var e=b(this),c=a.delayOut;e.hoverState="out";0==c?e.hide():(e.tip().removeClass("in"),setTimeout(function(){"out"==e.hoverState&&e.hide()},c))}a=h.extend({},h.fn.tipsy.defaults,a);a.live||this.each(function(){b(this)});if("manual"!=a.trigger){var k=a.live?"live":"bind",q="hover"==a.trigger?"mouseleave":"blur";this[k]("hover"==a.trigger?"mouseenter":"focus",c)[k](q,e)}return this};h.fn.tipsy.defaults={className:null,delayIn:0,delayOut:0,fade:!1,fallback:"",
gravity:"n",html:!1,live:!1,offset:0,opacity:0.8,title:"title",trigger:"hover",anchor:null};h.fn.tipsy.elementOptions=function(a,b){return h.metadata?h.extend({},b,h(a).metadata()):b};h.fn.tipsy.autoNS=function(){return h(this).offset().top>h(l).scrollTop()+h(f).height()/2?"s":"n"};h.fn.tipsy.autoWE=function(){return h(this).offset().left>h(l).scrollLeft()+h(f).width()/2?"e":"w"};h.fn.tipsy.autoBounds=function(a,b){return function(){var c=b[0],e=1<b.length?b[1]:!1,k=h(l).scrollTop()+a,q=h(l).scrollLeft()+
a,t=h(this);t.offset().top<k&&(c="n");t.offset().left<q&&(e="w");h(f).width()+h(l).scrollLeft()-t.offset().left<a&&(e="e");h(f).height()+h(l).scrollTop()-t.offset().top<a&&(c="s");return c+(e?e:"")}};return d}({},u,y));l.register("$8",function(d,f,l){d.listen=function(d,b){function c(){s[e?"show":"hide"]()}function a(a){A&&d.setAttribute("size",a.length||1);e=a;c();return a}function g(){k=null;b(e)}function m(){var b=d.value;t&&b===t&&(b="");b!==e&&(k&&clearTimeout(k),a(b),q?k=setTimeout(g,q):g())}
var e,k;d=d instanceof jQuery?d[0]:d;var q=150,t=f.attachEvent&&d.getAttribute("placeholder"),A=1===Number(d.size),s=h('<a href="#clear" tabindex="-1" class="icon clear"><span>clear</span></a>').click(function(a){d.value="";m();return!1});a(d.value);h(d).on("input blur focus",function(){m();return!0}).after(s);c();return{delay:function(a){q=a},ping:function(b){b?(k&&clearTimeout(k),b=d.value,t&&b===t&&(b=""),a(b),g(),b=void 0):b=m();return b},val:function(b){if(null==b)return e;k&&clearTimeout(k);
d.value=a(b);c()},el:function(){return d},blur:function(a){return h(d).on("blur",a)}}};return d}({},u,y));l.register("$22",function(d,f,E){var p,b,c={401:"Authorization Required",422:"Invalid data sent to server",404:"Not Found",500:"Server Error",502:"Bad Gateway",503:"Service unavailable",504:"Gateway timeout"};d.keepAlive=function(a){p=a;b&&clearTimeout(b);b=setTimeout(function(){b=null;d.ajax({url:"/ajax/user/session.json"})},a)};d.jsonLink=function(a){if(!a)return"";a=a.split("?");a[0]=a[0].replace(/(\.[a-z0-9]{1,4})?$/i,
".json");return a.join("?")};d.errorData=function(a,b,m){var e,k;m=a.responseText;b=a.status;if(!m&&0===b)return null;try{e=h.parseJSON(m)||{}}catch(q){e={},k=c[a.status]||q.message||q}e.error=k||e.error||e.statusText||a.statusText||c[b]||"Unknown Error";return e};d.ajax=function(a,b,m,e){function k(a){function b(a){var n=a&&a[0];if(!n||E.contains&&!E.contains(n))a=h(E.body);return a}a.alert&&alert(a.alert);var c=a.events,c=a.success,k=b(e);c&&l.require("$35","growl.js").success.apply(null,c.push?
c:[c]);k.trigger("locoAjaxSuccess",[a]);if((c=a.events)&&c.length)for(var q,n=l.require("$31","ga.js");q=c.shift();)k=b(k),k.trigger(q,[a]),n.event("ajax",q);if(k=a.download)f.location.assign(k);else if(k=a.redirect)if(0===k.indexOf("/modal/"))a.modal={url:k};else return f.location.assign(k),!1;else if(a.reload)return f.location.reload(),!1;(k=a.modal)&&l.require("$32","modal.js").replace(k);m&&m();return!0}function q(a,e,q){if("abort"!==e){var r=a.status,v;if(401===r)l.require("$32","modal.js").load("/modal/user/ping.json?r="+
encodeURIComponent(location.pathname),c[r]);else{if("parsererror"===e)f.console&&console.error&&console.error(r,a.responseText),v=404===r?"Ajax service not found":/^\s+Fatal error/.test(a.responseText)?"Fatal server error from Ajax request":"Bad Ajax response";else{var n=d.errorData(a,e,q);n&&n.error&&(v=n.error)}"function"===typeof b&&!1===b(null,v,r,a)?m&&m():n&&n.data&&!k(n.data)||(alert(v||"Unknown Ajax error"),m&&m())}}}(a.headers||(a.headers={}))["X-Loco-Csrf"]=f.loco&&H.csrf||"";a.error=q;
a.success=function(a,e,s){if(!a||"object"!==typeof a)return q(s,"unknown");p&&d.keepAlive(p);(a.status||a.error)&&alert(a.error||a.statusText||s.statusText||c[a.status]||"Unknown Error");"function"===typeof b&&!1===b(a&&a.data?a.data:a,null,e,s)?m&&m():a&&a.data?k(a.data):m&&m()};-1!==a.url.indexOf(".json")&&(a.dataType="json");return h.ajax(a)};return d}({},u,y));l.register("$32",function(d,f,E){function p(a){a.stopPropagation();a.preventDefault();return!1}function b(){e||(e=l.require("$41","overlay.js"),
e.listen(g));return e}function c(){var a=t.length-1,b=t[a],c=h('<a class="has-icon icon-back" data-gravity="w">Back</a>').attr("href",b[0]).attr("title",b[1]).click(function(c){if(t[a]===b&&v())return p(c)});e.enableNav(c);l.require("$11","tooltip.js").init(c)}function a(a,k){b().autoSize();var r=e.init();l.require("$18","html.js").init(r);t.length&&c();r.find("[data-script]").each(function(a,b){b=h(b);for(var c=-1,e,n=b.attr("data-script").split(" ");++c<n.length;)e=n[c],q[e]?q[e](b,k||{}):alert("Unknown script "+
e)});r.trigger("locoModalLoaded",[e,a||"",k||{}]);var g,m=r.find("form")[0],d;if(m)a:for(r=0;r<m.elements.length;r++)switch(g=m.elements[r],g.type){case "text":case "email":case "textarea":d=Number(g.getAttribute("tabindex"));if(isNaN(d)||100>d)continue a;h(g).focus();break a}}function g(){A=null;t=[];return!0}function m(a){var b=h(a.currentTarget),c=b.attr("data-modal");if("back"===c){if(v())return p(a);c="close"}if("close"===c){r();var e=b.attr("href");if(e&&-1!==e.indexOf("#!"))return!0}else{var k=
"submit"===a.type,q=b.attr("title")||b.attr("data-title"),e=b.attr("href")||b.attr("action"),g=k?b.serialize():"",k=k?b.attr("method"):"get";c||(c=e.split("/").slice(1,4).join("-"));b.trigger("locoModalInvoked",[]);s(e,q,k,g,"modal "+c)}return p(a)}var e,k=l.require("$31","ga.js"),q={},t=[],A,s=d.load=function(c,r,q,g,m){var v=A;A=[].slice.call(arguments);v&&c!==v[0]&&(t.push(v),c+=-1===c.indexOf("?")?"?":"&",c+="r="+encodeURIComponent(v[0]));b().open().title("Loading ..").disableClose().disableNav().css("modal").html('<div class="loading"></div>');
m&&e.width(null).css(m).autoSize();var v=c.split("#"),f=v[1];f&&(c=v[0]);var v=l.require("$22","http.js"),z={type:q||"get",data:g||"",url:v.jsonLink(c)};v.ajax(z,function(b,d,v){var z=b&&b.html;if(!z)return b&&b.redirect?(A=t.pop()||null,s(b.redirect,r,q,g,m)):(b=h('<h3 class="error"></h3>').text(d||"Unknown error"),d=h('<footer class="buttonset"><a href="/" data-modal="close" class="has-icon icon-ok">Close</a></footer>'),b=h('<div class="basic"></div>').append(b).append(d),e.enableClose().title("Error "+
v||"?").html("").append(b),l.require("$18","html.js").init(e.init())),!1;r=b.title||r||"Untitled";A&&(A[1]=r);e.enableClose().title(r,b.icon).html(z);v=b.js||{};f&&(v["#"]=f);a(c,v);k.page(c,r);e.init().one("overlayClosed",function(){k.reset()});return!0});return d},r=d.close=function(){b().close();return d},v=d.back=function(){if(previous=t.pop())return A=t[t.length-2],s.apply(null,previous),!0};d.reload=function(){A&&s.apply(null,A)};d.initLink=function(a){a.click(m)};d.initForm=function(a){h(a).submit(m)};
d.replace=function(c){b();var k=c&&c.html,r=c&&c.url,q=c&&c.title,g=c&&c.action;if(r)k=t.length-1,k=0<=k?t[k][0]:void 0,r===k?v():(c=c&&c.css||r.split("/").slice(1,4).join("-"),s(r,q,"","",c));else if(k)e.open().html(k),q&&e.enableClose().title(q),a("",c&&c.js);else if("function"===typeof d[g])d[g]()};d.find=function(a){return b().init().find(a)};d.script=function(a,b){if(b){if("function"!==typeof b.run)throw Error(a+" macro has no run function");q[a]=b.run;return d}return q[a]};return d}({},u,y));
l.register("$21",{"\u00e1":"a","\u00e0":"a","\u0103":"a","\u1eaf":"a","\u1eb1":"a","\u1eb5":"a","\u1eb3":"a","\u00e2":"a","\u1ea5":"a","\u1ea7":"a","\u1eab":"a","\u1ea9":"a","\u01ce":"a","\u00e5":"a","\u01fb":"a","\u00e4":"a","\u01df":"a","\u00e3":"a","\u0227":"a","\u01e1":"a","\u0105":"a","\u0101":"a","\u1ea3":"a","\u0201":"a","\u0203":"a","\u1ea1":"a","\u1eb7":"a","\u1ead":"a","\u1e01":"a","\u01fd":"\u00e6","\u01e3":"\u00e6","\u1e03":"b","\u1e05":"b","\u1e07":"b","\u0107":"c","\u0109":"c","\u010d":"c",
"\u010b":"c","\u00e7":"c","\u1e09":"c","\u010f":"d","\u1e0b":"d","\u1e11":"d","\u0111":"d","\u1e0d":"d","\u1e13":"d","\u1e0f":"d","\u00f0":"d","\ua77a":"d","\u01c6":"\u01f3","\u00e9":"e","\u00e8":"e","\u0115":"e","\u00ea":"e","\u1ebf":"e","\u1ec1":"e","\u1ec5":"e","\u1ec3":"e","\u011b":"e","\u00eb":"e","\u1ebd":"e","\u0117":"e","\u0229":"e","\u1e1d":"e","\u0119":"e","\u0113":"e","\u1e17":"e","\u1e15":"e","\u1ebb":"e","\u0205":"e","\u0207":"e","\u1eb9":"e","\u1ec7":"e","\u1e19":"e","\u1e1b":"e","\u1e1f":"f",
"\ua77c":"f","\u01f5":"g","\u011f":"g","\u011d":"g","\u01e7":"g","\u0121":"g","\u0123":"g","\u1e21":"g","\ua7a1":"g","\u1d79":"g","\u0125":"h","\u021f":"h","\u1e27":"h","\u1e23":"h","\u1e29":"h","\u0127":"h","\u210f":"h","\u1e25":"h","\u1e2b":"h","\u1e96":"h","\u00ed":"i","\u00ec":"i","\u012d":"i","\u00ee":"i","\u01d0":"i","\u00ef":"i","\u1e2f":"i","\u0129":"i","\u012f":"i","\u012b":"i","\u1ec9":"i","\u0209":"i","\u020b":"i","\u1ecb":"i","\u1e2d":"i","\u0135":"j","\u01f0":"j","\u1e31":"k","\u01e9":"k",
"\u0137":"k","\ua7a3":"k","\u1e33":"k","\u1e35":"k","\u013a":"l","\u013e":"l","\u013c":"l","\u0142":"l","\u1e37":"l","\u1e39":"l","\u1e3d":"l","\u1e3b":"l","\u0140":"l","\u1e3f":"m","\u1e41":"m","\u1e43":"m","\u0144":"n","\u01f9":"n","\u0148":"n","\u00f1":"n","\u1e45":"n","\u0146":"n","\ua7a5":"n","\u1e47":"n","\u1e4b":"n","\u1e49":"n","\u00f3":"o","\u00f2":"o","\u014f":"o","\u00f4":"o","\u1ed1":"o","\u1ed3":"o","\u1ed7":"o","\u1ed5":"o","\u01d2":"o","\u00f6":"o","\u022b":"o","\u0151":"o","\u00f5":"o",
"\u1e4d":"o","\u1e4f":"o","\u022d":"o","\u022f":"o","\u0231":"o","\u00f8":"o","\u01ff":"o","\u01eb":"o","\u01ed":"o","\u014d":"o","\u1e53":"o","\u1e51":"o","\u1ecf":"o","\u020d":"o","\u020f":"o","\u01a1":"o","\u1edb":"o","\u1edd":"o","\u1ee1":"o","\u1edf":"o","\u1ee3":"o","\u1ecd":"o","\u1ed9":"o","\u1e55":"p","\u1e57":"p","\u0155":"r","\u0159":"r","\u1e59":"r","\u0157":"r","\ua7a7":"r","\u0211":"r","\u0213":"r","\u1e5b":"r","\u1e5d":"r","\u1e5f":"r","\ua783":"r","\u015b":"s","\u1e65":"s","\u015d":"s",
"\u0161":"s","\u1e67":"s","\u1e61":"s","\u015f":"s","\ua7a9":"s","\u1e63":"s","\u1e69":"s","\u0219":"s","\u017f":"s","\ua785":"s","\u1e9b":"s","\u0165":"t","\u1e97":"t","\u1e6b":"t","\u0163":"t","\u1e6d":"t","\u021b":"t","\u1e71":"t","\u1e6f":"t","\ua787":"t","\u00fa":"u","\u00f9":"u","\u016d":"u","\u00fb":"u","\u01d4":"u","\u016f":"u","\u00fc":"u","\u01d8":"u","\u01dc":"u","\u01da":"u","\u01d6":"u","\u0171":"u","\u0169":"u","\u1e79":"u","\u0173":"u","\u016b":"u","\u1e7b":"u","\u1ee7":"u","\u0215":"u",
"\u0217":"u","\u01b0":"u","\u1ee9":"u","\u1eeb":"u","\u1eef":"u","\u1eed":"u","\u1ef1":"u","\u1ee5":"u","\u1e73":"u","\u1e77":"u","\u1e75":"u","\u1e7d":"v","\u1e7f":"v","\u1e83":"w","\u1e81":"w","\u0175":"w","\u1e98":"w","\u1e85":"w","\u1e87":"w","\u1e89":"w","\u1e8d":"x","\u1e8b":"x","\u00fd":"y","\u1ef3":"y","\u0177":"y","\u1e99":"y","\u00ff":"y","\u1ef9":"y","\u1e8f":"y","\u0233":"y","\u1ef7":"y","\u1ef5":"y","\u017a":"z","\u1e91":"z","\u017e":"z","\u017c":"z","\u1e93":"z","\u1e95":"z","\u01ef":"\u0292",
"\u1f00":"\u03b1","\u1f04":"\u03b1","\u1f84":"\u03b1","\u1f02":"\u03b1","\u1f82":"\u03b1","\u1f06":"\u03b1","\u1f86":"\u03b1","\u1f80":"\u03b1","\u1f01":"\u03b1","\u1f05":"\u03b1","\u1f85":"\u03b1","\u1f03":"\u03b1","\u1f83":"\u03b1","\u1f07":"\u03b1","\u1f87":"\u03b1","\u1f81":"\u03b1","\u03ac":"\u03b1","\u1f71":"\u03b1","\u1fb4":"\u03b1","\u1f70":"\u03b1","\u1fb2":"\u03b1","\u1fb0":"\u03b1","\u1fb6":"\u03b1","\u1fb7":"\u03b1","\u1fb1":"\u03b1","\u1fb3":"\u03b1","\u1f10":"\u03b5","\u1f14":"\u03b5",
"\u1f12":"\u03b5","\u1f11":"\u03b5","\u1f15":"\u03b5","\u1f13":"\u03b5","\u03ad":"\u03b5","\u1f73":"\u03b5","\u1f72":"\u03b5","\u1f20":"\u03b7","\u1f24":"\u03b7","\u1f94":"\u03b7","\u1f22":"\u03b7","\u1f92":"\u03b7","\u1f26":"\u03b7","\u1f96":"\u03b7","\u1f90":"\u03b7","\u1f21":"\u03b7","\u1f25":"\u03b7","\u1f95":"\u03b7","\u1f23":"\u03b7","\u1f93":"\u03b7","\u1f27":"\u03b7","\u1f97":"\u03b7","\u1f91":"\u03b7","\u03ae":"\u03b7","\u1f75":"\u03b7","\u1fc4":"\u03b7","\u1f74":"\u03b7","\u1fc2":"\u03b7",
"\u1fc6":"\u03b7","\u1fc7":"\u03b7","\u1fc3":"\u03b7","\u1f30":"\u03b9","\u1f34":"\u03b9","\u1f32":"\u03b9","\u1f36":"\u03b9","\u1f31":"\u03b9","\u1f35":"\u03b9","\u1f33":"\u03b9","\u1f37":"\u03b9","\u03af":"\u03b9","\u1f77":"\u03b9","\u1f76":"\u03b9","\u1fd0":"\u03b9","\u1fd6":"\u03b9","\u03ca":"\u03b9","\u0390":"\u03b9","\u1fd3":"\u03b9","\u1fd2":"\u03b9","\u1fd7":"\u03b9","\u1fd1":"\u03b9","\u1f40":"\u03bf","\u1f44":"\u03bf","\u1f42":"\u03bf","\u1f41":"\u03bf","\u1f45":"\u03bf","\u1f43":"\u03bf",
"\u03cc":"\u03bf","\u1f79":"\u03bf","\u1f78":"\u03bf","\u1fe4":"\u03c1","\u1fe5":"\u03c1","\u1f50":"\u03c5","\u1f54":"\u03c5","\u1f52":"\u03c5","\u1f56":"\u03c5","\u1f51":"\u03c5","\u1f55":"\u03c5","\u1f53":"\u03c5","\u1f57":"\u03c5","\u03cd":"\u03c5","\u1f7b":"\u03c5","\u1f7a":"\u03c5","\u1fe0":"\u03c5","\u1fe6":"\u03c5","\u03cb":"\u03c5","\u03b0":"\u03c5","\u1fe3":"\u03c5","\u1fe2":"\u03c5","\u1fe7":"\u03c5","\u1fe1":"\u03c5","\u1f60":"\u03c9","\u1f64":"\u03c9","\u1fa4":"\u03c9","\u1f62":"\u03c9",
"\u1fa2":"\u03c9","\u1f66":"\u03c9","\u1fa6":"\u03c9","\u1fa0":"\u03c9","\u1f61":"\u03c9","\u1f65":"\u03c9","\u1fa5":"\u03c9","\u1f63":"\u03c9","\u1fa3":"\u03c9","\u1f67":"\u03c9","\u1fa7":"\u03c9","\u1fa1":"\u03c9","\u03ce":"\u03c9","\u1f7d":"\u03c9","\u1ff4":"\u03c9","\u1f7c":"\u03c9","\u1ff2":"\u03c9","\u1ff6":"\u03c9","\u1ff7":"\u03c9","\u1ff3":"\u03c9","\u0491":"\u0433","\u0450":"\u0435","\u0451":"\u0435","\u04c2":"\u0436","\u045d":"\u0438","\u04e3":"\u0438","\u04ef":"\u0443"});l.register("$7",
function(d,f,h){d.init=function(){function d(a){return t[a]||a}function b(a){return String(a||"").toLowerCase().replace(k,d)}function c(a,b,c,e){b=a.split(b);for(var k=b.length;0!==k--;)(a=b[k])&&null==e[a]&&(c.push(a),e[a]=!0);return c}function a(a){return c(b(a),q,[],{})}function g(a,k){for(var r=[],g={},n,d=k.length,m=q;0!==d--;)(n=k[d])&&c(b(n),m,r,g);e[a]=r}function m(a,b){var c=[],k=-1,n=e,q=n.length,g,d,m,t,f,z,h=a.length,J=b?!0:!1;a:for(;++k<q;)if(m=n[k],null!=m&&(t=m.length)){f=0;b:for(;f<
h;f++){z=a[f];for(g=0;g<t;g++)if(d=m[g],0===d.indexOf(z))continue b;continue a}c.push(J?b[k]:k)}return c}var e=[],k=/[^a-z0-9]/g,q=/[\-_\s.?!;:,*^+=~`"(){}<>\[\]\/\\\u00a0\u1680\u180e\u2000-\u206f\u2e00-\u2e7f\u3000-\u303f]+/,t=l.require("$21","flatten.json");return{split:a,norm:b,pull:function(a,b){return m(a,b)},find:function(b,c){return m(a(b),c)},add:function(b,c){e[b]=a(c)},push:function(a){g(e.length,a)},index:function(a,b){g(a,b)},size:function(){return e.length},clear:function(){e=[]},remove:function(a){e[a]=
null}}};return d}({},u,y));l.register("$23",function(d,f,h){d.create=function(){var d=[],b=l.require("$7","fulltext.js").init();return{add:function(c,a){b.add(d.length,a);d.push(c);return this},find:function(c){return b.find(c,d)},clear:function(){d=[];b.clear();return this}}};return d}({},u,y));l.register("$10",function(d,f,E){function p(b){-1===b.indexOf("?")&&(b="/auto/"+b+".json?q=");this.url=b;this.dead={}}function b(){this.dict=l.require("$23","dict.js").create()}d.init=function(c){function a(){if("hint"!==
z){var a=B.val()&&!(J&&J.val())&&null==F&&!n;M[a?"addClass":"removeClass"]("error")}}function g(a){J&&J.val(a)}function d(){K.show();var a=B.outerWidth(!1),b=B.outerHeight(!1),c=B.css("margin-top");c&&(c=parseInt(c),isNaN(c)||(b+=c));a-=2;K.css("top",b+"px").css("width",a+"px");n=!0}function e(){K.hide();n=!1}function k(){K.html("");e();v=0;C=F=null}function q(b){k();var c;for(c=0;c<b.length;c++){var e=c,n=b[c],r=n.value,q=n.lang||r.lang,g=h('<span class="label"></span>').text(n.label),z=h('<div class="auto-comp-result"></div>'),
s=void 0,D=void 0;if(D=n.icon)s=h("<span></span>").attr("class",D).appendTo(z),q?(s.attr("lang",q),n.lang=q):-1!==D.indexOf("lang-"+r)&&(s.attr("lang",r),n.lang=r);for(D in n)z.data(D,n[D]);z.append(g);t(e,z)}(v=b.length)?(I&&d(),f(0)):(f(null),a(),M.trigger("locoAutonone",[]))}function t(a,b){K.append(b);b.click(function(c){c.stopPropagation();f(a,b);r();return!1});return b}function f(a,b){C&&(C.removeClass("selected"),C=null);F=null;null==a?g(""):(b||(b=K.find("div.auto-comp-result").eq(a)),b.length&&
(b.addClass("selected"),F=a,C=b))}function s(a){if(v){var b=v-1;null==F?a=0<a?0:b:(a=F+a,0>a?a=b:a>b&&(a=0));return f(a)}}function r(){if(null==F)E.val(""),g("");else{var b=K.find("div.auto-comp-result").eq(F),c=b.data()||{label:"Error"},n=c.value,r=c.label;g(n);E.val(r);e();b=b.clone();b.data(c);k();t(0,b);v=1;f(0,b);a();b.trigger("locoAutocomp",[n,r,b])}}var v=0,n=!1,I=!1,D=c.form,F=null,C=null,B=h(c),w=B.attr("name"),z=B.attr("data-mode"),G=B.attr("data-provider"),J="hint"!==z&&h('<input type="hidden" value="" name="'+
w+'" />').appendTo(D),M=h('<div class="auto-comp-wrap"></div>').replaceAll(B),K=h('<div class="auto-comp-drop"></div>');G&&(G=new p(G));J&&B.attr("name","_"+w);B.attr("autocomplete")||B.attr("autocomplete","off");M.append(B).append(K);e();B.focus(function(a){I=!0;1<v&&d()}).blur(function(b){I=!1;a()}).keydown(function(a){function b(){a.preventDefault();a.stopPropagation();return!1}switch(a.keyCode){case 27:n&&(a.stopPropagation(),e(),B.blur());break;case 40:v&&(n?s(1):d());break;case 38:n&&s(-1);
break;case 13:if(n)return r(),b();if(!F&&"hint"!==z)return b()}return!0});var E=l.require("$8","LocoTextListener.js").listen(B,function(a){G&&G.fetch(a,q)});(D=B.attr("data-pre"))&&(D=h.parseJSON(D))&&D.value&&D.label?(q([D]),r()):!c.value||J&&J.val()||!G||G.fetch(c.value,function(a){q(a);r()});return{$:B,val:function(){return J&&J.val()},clear:k,reset:function(){k();B.val("");g("");E.ping()},force:function(a,b){k();g(b||"");E.val(a)},preload:function(a){v&&k();G=new b;var c,e;for(c in a)e=a[c],G.add(e)},
mode:function(a){z=a},provide:function(a){G=new p(a)}}};p.prototype.fetch=function(b,a){if(!b)return a&&a([]),this.dead={},this;var g,d=this.dead;for(g in d)if(0===b.indexOf(g))return a&&a([]),this;g={dataType:"json",url:this.url+encodeURIComponent(b)};l.require("$22","http.js").ajax(g,function(e){var k=e&&e.results;k&&(a&&e.query&&e.query===b&&a(e.results),k.length||(d[b]=0));return!0});return this};b.prototype.add=function(b){var a=b.fulltext||b.label||b.value;a&&this.dict.add(b,a)};b.prototype.fetch=
function(b,a){var g=b?this.dict.find(b):[];a&&a(g);return this};return d}({},u,y));l.register("$9",function(d,f,E){function p(a){a.stopPropagation();a.preventDefault();return!1}function b(a,b,c){if(c=c||a.getElement(b))c.off().mouseup(function(c){c.stopPropagation();a.selectIndex(b,!0);return!1}).mouseover(function(){h(this).addClass("over");a.hover=b;return!0}).mouseout(function(){h(this).removeClass("over");a.hover=-1;return!0}),c=null;return a}function c(b){m===b&&(h(f).off("resize scroll",a),
m=null);return b}function a(a){m&&m.resize()}function g(a){if(a){var b,c=a[0],e=c.id,g=c.title,r=[],d=[],n=-1,m=c.options.length,f,F=this.selectedIcon||"";this.id=e||"";this.name=c.name||"";this.prefix=c.getAttribute("data-prefix");for(this.defaultIcon=c.getAttribute("data-icon")||"icon no-icon";++n<m;)b=c.options[n],f=b.disabled,b.selected&&r.push(n),b=h(b),d.push([b.val(),b.text(),b.attr("data-icon")||F,f,b.attr("lang")]);this.hidden||(this.hidden=h('<input type="hidden" name="'+this.name+'" value="" />').appendTo(c.form));
this.list=h("<ul></ul>");this.icon=h('<span class="icon"> </span>');this.selection=h('<span class="label"></span>');this.handle=h('<a class="handle" href="#"></a>').attr("tabindex",a.attr("tabindex")||"").append(this.icon).append(this.selection);b=h('<div class="selector"></div>').addClass(c.className).append(this.handle).append(this.list).replaceAll(c);e&&b.attr("id",e);g&&a.hasClass("hastip")&&(b.attr("title",g),l.require("$11","tooltip.js").init(b,{gravity:a.attr("data-gravity")||"s",anchor:a.attr("data-anchor")}));
this.wrapper=b;this.up=b.hasClass("up");for(this.clearOptions();b=d.shift();)this.addOption.apply(this,b);this.enable();this.close();if(m=r.length)for(n=0;n<m;n++)this.selectIndex(r[n]);else n=c.selectedIndex,null!=n&&0<=n&&this.selectIndex(n)}}d.create=function(a){return new g(a)};d.extend=function(a){a.parent=g;a.prototype=new g};var m,e=g.prototype;e.enable=function(){var a=this;a.handle.click(function(a){a.preventDefault();return!1}).mouseover(function(b){return a.onRollover(b)}).mouseout(function(b){return a.onRollout(b)}).mousedown(function(b){return a.onPress(b)}).keydown(function(b){return a.onKeydown(b)});
h(E).mouseup(function(b){return a.onRelease(b)}).keydown(function(b){return a.onGlobalKeydown(b)})};e.onRollover=function(a){return this.over=!0};e.onRollout=function(a){this.over=!1;return!0};e.onPress=function(a){return this.active?this.over?(this.close(),a.stopPropagation(),a.preventDefault(),!1):!0:(this.open(),a.stopPropagation(),a.preventDefault(),this.handle.focus(),!1)};e.onRelease=function(a){this.active&&!this.over&&this.close();return!0};e.onGlobalKeydown=function(a){if(this.active)switch(a.keyCode){case 27:return this.close(),
p(a);case 40:return this.hoverNext(1),p(a);case 38:return this.hoverNext(-1),p(a);case 13:if(-1!=this.hover)return this.selectIndex(this.hover,!0),this.hoverItem(-1),this.close(),p(a)}return!0};e.onKeydown=function(a){return this.active||40!==a.keyCode?!0:(this.open(),p(a))};e.resize=function(){var a=this.list,b=this.handle,c=b.outerWidth()||0,e=a.outerWidth()||0,g;this.up?(g=a.outerHeight(),a.css("top","-"+(g+2)+"px")):(g=b.outerHeight()||0,g+=2,a.css("top",g+"px"),b=g+l.require("$18","html.js").top(b[0]),
g=f.innerHeight-Math.max(0,b-f.pageYOffset),g-=4,a.css("max-height",g+"px"));c>e&&(c-=e-a.width(),a.css("min-width",String(c)+"px"))};e.open=function(){var b=this.list,e=this.wrapper,g=e.data("tipsy");this.active=!0;this.hover=-1;e.addClass("active");b.show().scrollTop(0);g&&g.disable();this!==m&&(m&&c(m),h(f).on("resize scroll",a),m=this);this.resize()};e.close=function(){var a=this.wrapper,b=a.data("tipsy");this.list.hide();this.active=!1;-1!==this.hover&&(this.getElement(this.hover).removeClass("over"),
this.hover=-1);a.removeClass("active");b&&b.enable();c(this)};e.hoverItem=function(a,b){-1!==this.hover&&this.getElement(this.hover).removeClass("over");this.hover=a;-1!==a&&(b=b||this.getElement(a),b.addClass("over"))};e.hoverNext=function(a){var b=this.options.length;if(b){b-=1;if(-1==this.hover)a=0<a?0:b;else{a=this.hover+a;if(0>a){this.close();return}a>b&&(a=0)}this.hoverItem(a)}};e.enableChange=function(a){this.eventName=a;this.eventData=[].slice.call(arguments,1);return this};e.enableConfirm=
function(a){this.confirm=a;return this};e.clearOptions=function(){this.index={};this.length=0;this.options=[];this.list.html("");this.hidden.val("");this.idx=this.hover=-1;return this};e.destroy=function(){this.clearOptions();this.hidden.remove()};e.addOption=function(a,c,e,g,d){var r=this.options.length,m=h("<span></span>").addClass(e||"icon no-icon"),n=h('<span class="label"></span>').text(c||a),n=h("<li></li>").append(m).append(n).appendTo(this.list);d?d=d.split("-").shift():e&&-1!==e.indexOf("lang-"+
a)&&(d=a);d&&m.attr("lang",d);n.attr("data-option",r);this.options[r]={value:a,text:c,lang:d||"",icon:e};this.index[a]=r;this.length=r+1;g?this.disableIndex(r):b(this,r,n);return r};e.disableOption=function(a){return this.disableIndex(this.index[a])};e.disableIndex=function(a){(a=this.getElement(a))&&a.addClass("disabled").off();return this};e.enableOption=function(a){return this.enableIndex(this.index[a])};e.enableIndex=function(a){return b(this,a)};e.reIndex=function(){for(var a=-1,b={},c=this.options,
e=c.length;++a<e;)b[c[a].value]=a;this.index=b;this.length=e};e.selectValue=function(a,b){return this.selectIndex(this.index[a],b)};e.selectIndex=function(a,b){var c=this.options[a];if(c){var e=this,g=e.idx,r=c.value,d=c.icon||e.defaultIcon,n=function(){null!=g&&e.getElement(g).removeClass("active");e.getElement(a).addClass("active");e.setLabel(c.text).setIcon(d,c.lang);e.hidden.val(r);e.idx=a;b&&e.change()};g===a?e.hidden.val(r):b?"function"===typeof e.confirm?e.confirm.call(null,c,function(a){a&&
n()}):e.beforeChange(r)&&n():n();e.active&&e.close()}return this};e.setLabel=function(a){this.selection.text(a);this.prefix&&this.selection.prepend(h('<span class="prefix"></span>').text(this.prefix));return this};e.setIcon=function(a,b){this.icon.attr("class",a).attr("lang",b||"");return this};e.val=function(){var a=this.options[this.idx];return a&&a.value};e.change=function(){var a=this.val(),b=this.save,c=this.eventName||"change",e=[a].concat(this.eventData||[]);this.wrapper.trigger(c,e);b&&b(a);
this.hidden.triggerHandler("change");return this};e.beforeChange=function(a){var b=h.Event("locoBeforeSelect");this.wrapper.trigger(b,[a]);return!b.isDefaultPrevented()};e.renameOption=function(a,b){var c=this.index[a],e=this.options[c];e&&(e.text=b,this.getElement(c).find("span.label").text(b),c===this.idx&&this.setLabel(b));return this};e.removeOption=function(a){var b=this.index[a],c=this.options[b];c&&(a=this.val(),this.getElement(b).remove(),this.options.splice(b,1),this.reIndex(),a===c.value?
this.selectIndex(0,!0):this.selectValue(a,!1))};e.getElement=function(a){return this.list.find("li").eq(a)};e.getWrapper=function(){return this.wrapper};e.persist=function(a){var b=this.id||this.name,c=a.fetch(b);null!=c&&this.selectValue(c,!0);this.save=function(c){a.store(b,c)};return this};e.listen=function(a){return this.on(this.eventName||"change",a)};e.on=function(a,b){this.wrapper.on(a,b);return this};e=null;return d}({},u,y));l.register("$33",function(d,f,E){function p(b){var c=[],a=h([]);
this.hidden=a;this.selected=c;this.selectedIcon="icon icon-checkbox";this.constructor.call(this,b);this.wrapper.addClass("multi");for(var g,d,e,k=h('<input type="checkbox" name="'+this.name+'[]" />')[0],q=this.options,f=q.length,A=-1;++A<f;)g=this.getElement(A)[0],e=k.cloneNode(!0),c[A]&&(e.checked=!0),e.setAttribute("value",q[A].value),a.push(g.appendChild(e));(d=this.defaultIcon)&&this.setIcon(d);(d=b.attr("title"))?this.setLabel(d):this.wrapper.addClass("no-title")}d.create=function(b){return new p(b)};
l.require("$9","LocoSelector.js").extend(p);f=p.prototype;f.selectIndex=function(b,c){return this.setIndexState(b,!this.selected[b],c)};f.setIndexState=function(b,c,a){var g=this.options[b],d=this.getElement(b),e=this.hidden[b],k=this.selected;g&&c!==k[b]&&(k[b]=c,d[c?"addClass":"removeClass"]("checked"),e&&(e.checked=c),a&&this.change());return this};f.selectValue=function(b,c){if(null==b.pop)return p.parent.prototype.selectValue.call(this,b,c);for(var a=this.selected.slice(),g=this.options.length,
d=!1,e=-1,k=-1;++e<g;)a[e]&&(d=!0),a[e]=!1;if(g=b.length)for(;++k<g;)e=this.index[b[k]],!1===a[e]&&(d=a[e]=!0);if(d){for(e in a)this.setIndexState(e,a[e]);c&&this.change()}return this};f.val=function(){for(var b=[],c=this.options,a=this.selected,g=a.length,d=-1;++d<g;)a[d]&&b.push(c[d].value);return b};f=null;return d}({},u,y));l.register("$42",function(d,f,h){function p(b,a){for(var g=String(b);a>g.length;)g="0"+g;return g}function b(b){var a=b%10;if(1===a){if(11!==b)return"st"}else if(2===a){if(12!==
b)return"nd"}else if(3===a&&13!==b)return"rd";return"th"}d.formatter=function(){return{format:function(b,a){var g=this;return a.replace(/%[YmdHisMjSghAa]/g,function(a){return g[a.charAt(1)](b)})},Y:function(b){return String(b.getFullYear())},m:function(b){return p(1+b.getFullMonth(),2)},M:function(b){return"Jan Feb Mar Apr May Jun Jul Aug Sep Oct Nov Dec".split(" ")[b.getMonth()]},d:function(b){return p(b.getDate(),2)},H:function(b){return p(b.getHours(),2)},i:function(b){return p(b.getMinutes(),
2)},s:function(b){return p(b.getSeconds(),2)},j:function(b){return String(b.getDate())},S:function(c){return b(c.getDate())},g:function(b){b=b.getHours();return String(0===b?12:12<b?b-12:b)},h:function(b){return p(this.g(b),2)},a:function(b){return 12>b.getHours()?"am":"pm"},A:function(b){return 12>b.getHours()?"AM":"PM"}}};return d}({},u,y));l.register("$34",function(d,f,E){function p(a){var c=a.id,d=m||(m=[]),r=e||(e={}),v=a.getAttribute("datetime"),v=q(v);if(!isNaN(v))return c||(c="tick"+ ++k,
a.setAttribute("id",c)),a={id:c,el:a,dt:new Date(v),st:a.textContent},r[c]||d.push(a),r[c]=a,g||(g=setTimeout(b,200)),a}function b(){for(var a=m,d=a.length,k={},r=[];0<d--;)ticker=a[d],c(ticker)&&(r.push(ticker),k[ticker.id]=ticker);r.length?(m=r,e=k,g=setTimeout(b,3E4)):g=e=m=null}function c(b){var c=b.el;if(E.contains&&!E.contains(c))return!1;strDate=a(b.dt,new Date,!0);if(""===strDate)return!1;strDate!==b.st&&(h(c).text(strDate),b.st=strDate);return!0}function a(a,b,c){var e=b.getTime(),g=a.getTime(),
n=e-g;if(6E4>n)return"Just now";if(36E5>n)return a=Math.floor(n/6E4),String(a)+" minute"+(1===a?"":"s")+" ago";if(864E5>n&&b.getDate()===a.getDate()&&b.getMonth()===a.getMonth()&&b.getFullYear()===a.getFullYear())return a=Math.round(n/36E5),"About "+String(a)+" hour"+(1===a?"":"s")+" ago";if(c)return"";c=Math.floor(e/864E5)-Math.floor(g/864E5);e=l.require("$42","date.js").formatter();n=e.format(a," %g:%i %A");return 1>=c&&(b.setHours(0),b.setMinutes(0),b.setSeconds(0),b=b.getTime()-864E5,g>=b)?"Yesterday at"+
n:11>c?c+" days ago at"+n:e.format(a,"%M %j%S %Y,")+n}var g,m,e,k=0,q=Date.parse||function(){return Number.NaN};d.onEach=function(a,b){p(b)};d.update=function(a){c(p(a))};d.rel=a;return d}({},u,y));l.register("$18",function(d,f,E){var p=f.ieVersion;d.ie=function(b){return b?p<=b:p};var b=d.init=function(b){b?b instanceof jQuery||(b=h(b)):b=h(E.body);var a=l.require("$31","ga.js"),g=l.require("$19","forms.js"),m=l.require("$32","modal.js"),e=l.require("$10","LocoAutoComplete.js"),k=l.require("$9",
"LocoSelector.js"),q=l.require("$33","LocoMultiSelector.js"),f=l.require("$11","tooltip.js");b.find("form").each(function(a,b){var c=h(b);p&&10>p&&g.placeholders(c);b.getAttribute("data-modal")?m.initForm(b):b.action&&0!==c.attr("action").indexOf("#")&&!b.target&&g.jsonify(b);c.find("input.auto-comp").each(function(a,b){e.init(b)});c.find("select.selector").each(function(a,b){b.hasAttribute("multiple")?q.create(h(b)):k.create(h(b))});c.hasClass("hasreveal")&&g.revealify(c);c.find("button.hastip").each(function(a,
b){f.init(h(b))})});b.find("a").each(function(b,c){-1!==c.className.indexOf("hastip")&&f.init(h(c));-1!==c.href.indexOf("/modal/")||c.getAttribute("data-modal")?m.initLink(h(c)):a.link(c)});b.find("time.tick").each(l.require("$34","tick.js").onEach);g=m=e=b=null;return d};d.$=function(b){return h(f.innerShiv?innerShiv(b,!1):b)};h.fn._html=function(c){return null!=c?(c=this.html(f.innerShiv?innerShiv(c,!1):c),b(this),c):j.html()};h.fn.macro=function(b,a){if("function"!==typeof b.run)throw Error("macro has no run function");
b.run(this,a||{});return this};d.el=function(b,a){var g=E.createElement(b||"div");a&&(g.className=a);return g};d.txt=function(b){return E.createTextNode(b||"")};d.h=function(){function b(){d=/[<>&]/g;e=/(\r\n|\n|\r)/g;k=/(?:https?):\/\/([a-zA-Z0-9\-_\.\?%~&;=\/]+(?:#.*)?)/g;b=null}function a(a){return"&#"+a.charCodeAt(0)+";"}function g(a,b){return'<a href="'+a+'">'+b+"</a>"}var d,e,k;return function(q,f){b&&b();var h=q.replace(d,a);f&&(h=h.replace(e,"<br />").replace(k,g));return h}}();d.noop=function(b){b&&
(b.preventDefault(),b.stopPropagation(),h(b.target).blur());return!1};d.top=function(b,a){a||(a=E.body);for(var g=b.offsetTop||0;(b=b.offsetParent)&&b!==a;)g+=b.offsetTop||0;return g};d.left=function(b,a){a||(a=E.body);for(var g=b.offsetLeft||0;(b=b.offsetParent)&&b!==a;)g+=b.offsetLeft||0;return g};return d}({},u,y));l.register("$19",function(d,f,E){function p(a){function b(){a.value===d&&(a.value="",e.removeClass("placeheld"));return!0}function c(){""===a.value&&(a.value=d,e.addClass("placeheld"));
return!0}var e=h(a);if(!e.hasClass("auto-comp")){var d=e.attr("placeholder");if(d)return e.focus(b).blur(c),c(),{kill:function(){b();e.off("focus",b).off("blur",c)}}}}var b=d.enable=function(a){function b(a,e){e.getAttribute("data-was-disabled")||(e.disabled=!1)}a.find(".button").removeClass("loading");a.find("button").each(b);a.find("input").each(b);a.find("select").each(b);a.find("textarea").each(b);f.attachEvent&&a.hasClass("has-placeholders")&&d.placeholders(a);a.removeClass("disabled").trigger("locoEnable");
delete a._disabled},c=d.disable=function(a){function b(a,e){e.disabled?e.setAttribute("data-was-disabled","true"):e.disabled=!0}a._disabled||(a.find(".button").addClass("loading"),a.find("button").each(b),a.find("input").each(b),a.find("select").each(b),a.find("textarea").each(b),a.addClass("disabled").trigger("locoDisable"),a._disabled=!0)};d.jsonify=function(a,d,m){a instanceof jQuery||(a=h(a));a.disable||(h.fn.disable=function(){c(this);return this},h.fn.enable=function(){b(this);this.placehold&&
this.placehold();return this});var e="";a.find('[type="submit"]').click(function(a){a&&a.target&&a.target.name&&(e=encodeURIComponent(a.target.name)+"="+encodeURIComponent(a.target.value));return!0});a.submit(function(b){if(b&&b.isDefaultPrevented&&b.isDefaultPrevented()||m&&!1===m(b))return!1;var c=a.serialize(),c=c.replace(/%0D%0A/g,"%0A");e&&(c&&(c+="&"),c+=e,e="");a.disable();var f=l.require("$22","http.js"),c={url:f.jsonLink(a.attr("action")),type:a.attr("method"),data:c};f.ajax(c,d,function(){a.enable()},
a);b.preventDefault();b.stopPropagation();return!1})};d.revealify=function(a){a=a.closest("form");a.find("div[data-reveal-if]").each(function(b,c){function e(a){var b;n=n||a.target;if("."===r)b=Boolean(n&&n[v]),p&&(b=!b);else{var c,e=h(n.form).serializeArray();for(c in e)e[c].name===s&&(b=e[c].value);b=p?v!==b:v===b}if(b!==t)if(t=b,a)d[t?"slideDown":"slideUp"](200);else d[t?"show":"hide"]();return!0}var d=h(c),f=/^(\!?)([_\w\-\[\]]+)(\.|!?=)(.*)$/.exec(d.attr("data-reveal-if"));if(f){var t,p=f[1],
s=f[2],r=f[3],v=f[4],f=a[0][s];if(f.type||null==f.length)f=[f];b=f.length;for(var n;0!==b--;)n=f[b],e(),h(n).change(e).removeClass("jshide");f=f=n=null}});a=null};d.linkify=function(a){var b=a.getAttribute("data-icon");if(b){var c=h(a),e=h("<a> </a>");e.attr("href",a.form.action);e.attr("class",c.attr("class"));e.attr("tabindex",c.attr("tabindex"));c.attr("tabindex","-1");e.text(c.val());b&&h("<span></span>").prependTo(e).addClass(b);c.hide().after(e);e.click(function(a){c.click();return!1})}};d.placeholders=
function(a){var b,c=[];a.find("input[placeholder]").each(function(a,d){"password"!==d.type&&(b=p(d))&&c.push(b)});c.length&&(a.submit(function(){for(var a in c)c[a].kill()}),a.addClass("has-placeholders"),b=i=null)};return d}({},u,y));l.register("$4",function(d,f,E){function p(a,b,c){function e(){d();g=setTimeout(b,c)}function d(){g&&clearTimeout(g);g=null}var g;e();h(a).mouseenter(d).mouseleave(e);return{die:function(){d();h(a).off("mouseenter mouseleave")}}}function b(a,b){a.fadeTo(b,0,function(){a.slideUp(b,
function(){a.remove();h(f).triggerHandler("resize")})})}function c(a,c){function n(c){e[g]=null;b(h(a),250);d&&d.die();var n;if(n=c)c.stopPropagation(),c.preventDefault(),n=!1;return n}var d,g;h(a).addClass("is-dismissible");h('<button type="button" class="notice-dismiss" href="#"> </a>').prependTo(a).click(n);h(f).triggerHandler("resize");k();g=e.length;e.push(n);c&&(d=p(a,n,c));return{stick:function(){d&&d.die();d=null;e[g]=null}}}function a(a,b,c){var e=l.require("$18","html.js");a=h('<div class="notice notice-'+
a+'" loco-notice inline></div>').prependTo(h("#loco-notices"));var d=h(e.el("p"));c=h(e.el("span")).text(c);b=h(e.el("strong","has-icon")).text(b+": ");d.append(b).append(c).appendTo(a);return a}function g(b,e,d,g){b=a(d,e,b).hide().fadeIn(500);h(f).triggerHandler("resize");return c(b,g)}function m(){h("#loco-notices").find("div.notice").each(function(a,b){if(-1===b.className.indexOf("jshide")){var e=-1===b.className.indexOf("notice-success")?null:5E3;c(b,e)}})}var e=[],k=Date.now||function(){return(new Date).getTime()},
q,t,A,s;d.error=function(a){return g(a,q,"error")};d.warning=function(a){return g(a,t,"warning")};d.info=function(a){return g(a,A,"info")};d.success=function(a){return g(a,s,"success",5E3)};d.log=function(){f.console&&console.log&&console.log.apply(console,arguments)};d.debug=function(a,b){f.console&&console.error&&(console.error("Loco Error: "+a),b&&console.debug&&console.debug(b))};d.clear=function(){for(var a=-1,b,c=e,g=c.length;++a<g;)(b=c[a])&&b();e=[];return d};d.create=a;d.raise=function(a){(d[a.type]||
d.error).call(d,a.message)};d.convert=c;d.init=function(a){q=a._("Error");t=a._("Warning");A=a._("Notice");s=a._("OK");setTimeout(m,1E3);return d};return d}({},u,y));l.register("$5",function(d,f,E){function p(b,e,d,g){function f(a,e,g){if("abort"!==e){var n=c||{_:function(a){return a}},q=a.responseText,t=h("<pre>"+q+"</pre>").text();t&&(t=t.replace(/(^\s+|\s+$)/g,""));t||(t=q);p.debug("Ajax failure for "+b,{status:a.status,error:e,message:g,output:q});p.log(n._("Provide the following text when reporting a problem")+
":\n--8<--\n",t,"\n------");"parsererror"===e?(q=n._("Check console output for debugging information"),(t=t.split(/[\r\n]/)[0])?(t=t.replace(/ +in +\S+ on line \d+/,""),t=t.replace(/^[()! ]+Fatal error:\s*/,""),p.error(t+".\n"+q)):p.error(n._("Server returned invalid data")+". "+q)):p.error(g||n._("Unknown error"));d&&d(a,e,g)}}g.url=a;g.dataType="json";g.error=f;g.success=function(a,b,c){var d=a&&a.data,g=a&&a.notices,m=g&&g.length;for(!d||a.error?f(c,b,a&&a.error&&a.error.message):e&&e(d,b,c);m--;)p.raise(g[m])};
var p=l.require("$4","notices.js").clear();return h.ajax(g)}var b={},c,a=f.ajaxurl||"/wp-admin/admin-ajax.php",g=f.encodeURIComponent;d.init=function(a){b=a.nonces||b;return d};d.localise=function(a){c=a;return d};d.submit=function(a,b,c){function d(){g.removeClass("loading");l.require("$19","forms.js").enable(g)}var g=h(a),f=g.serialize();g.addClass("loading");l.require("$19","forms.js").disable(g);return p(a.route.value,function(a,c,g){d();b&&b(a,c,g)},function(a,b,e){d();c&&c(a,b,e)},{type:a.method,
data:f})};d.post=function(a,c,d,q){var t;(t=b[a])||(f.console&&console.debug&&console.debug('No nonce for "'+a+'"'),t="");t="action=loco_json&route="+g(a)+"&loco-nonce="+g(t);(c=c?h.param(c):"")&&(t+="&"+c);return p(a,d,q,{type:"post",data:t})};d.setNonce=function(a,c){b[a]=c;return d};d.hasNonce=function(a){return!!b[a]};return d}({},u,y));l.register("$20",{arab:1,aran:1,hebr:1,nkoo:1,syrc:1,syrn:1,syrj:1,syre:1,samr:1,mand:1,mend:1,thaa:1,adlm:1,cprt:1,phnx:1,armi:1,prti:1,phli:1,phlp:1,phlv:1,
avst:1,mani:1,khar:1,orkh:1,ital:1,lydi:1,ar:1,ary:1,ckb:1,dv:1,fa:1,he:1,nqo:1,ps:1,ur:1,yi:1});l.register("$6",function(d,f,h){function p(){}var b,c,a=l.require("$20","rtl.json");d.init=function(){return new p};d.cast=function(a){return a instanceof p?a:"string"===typeof a?d.parse(a):d.clone(a)};d.clone=function(a){var b,c=new p;for(b in a)c[b]=a[b];return c};d.parse=function(a){b||(c=/[-_+]/,b=/^([a-z]{2,3})(?:-([a-z]{4}))?(?:-([a-z]{2}|[0-9]{3}))?(?:-([0-9][a-z0-9]{3,8}|[a-z0-9]{5,8}))?(?:-([a-z]-[-a-z]+))?$/i);
a=String(a).split(c).join("-");if(!b.exec(a))return null;var d=new p;d.lang=RegExp.$1.toLowerCase();if(a=RegExp.$2)d.script=a.charAt(0).toUpperCase()+a.substr(1).toLowerCase();if(a=RegExp.$3)d.region=a.toUpperCase();if(a=RegExp.$4)d.variant=a.toLowerCase();if(a=RegExp.$5)d.extension=a;return d};f=p.prototype;f.isValid=function(){return!!this.lang};f.isKnown=function(){var a=this.lang;return!(!a||"zxx"===a)};f.toString=function(a){a=a||"-";var b,c=this.lang||"zxx";if(b=this.script)c+=a+b;if(b=this.region)c+=
a+b;if(b=this.variant)c+=a+b;if(b=this.extension)c+=a+b;return c};f.getIcon=function(){for(var a=4,b,c,d=["variant","region","script","lang"],f=[];0!==a--;)if(b=d[a],c=this[b])1===a&&3===c.length?f.push("region-m49"):f=f.concat([b,b+"-"+c.toLowerCase()]);return f.join(" ")};f.isRTL=function(){return!!a[String(this.script||this.lang).toLowerCase()]};f=null;return d}({},u,y));l.register("$36",function(d,f,h){function p(a){f.console&&console.error&&console.error(a)}function b(){p("Method not implemented")}
function c(){}function a(a){}c.prototype.toString=function(){return"[Undefined]"};a.prototype._validate=function(a){var d,e,f=!0;for(d in this)e=this[d],e===b?(p(a+"."+d+"() must be implemented"),f=!1):e instanceof c&&(p(a+"."+d+" must be defined"),f=!1);return f};d.init=function(d,f){var e,k=new a;if(d)for(e=d.length;0!==e--;)k[d[e]]=b;if(f)for(e=f.length;0!==e--;)k[f[e]]=new c;return k};d.validate=function(a){var b=/function (\w+)\(/.exec(a.toString())?RegExp.$1:"";a.prototype._validate(b||"Object")};
return d}({},u,y));l.register("$47",function(d,f,h){var p=f.requestAnimationFrame,b=f.cancelAnimationFrame,c=0;if(!p||!b)for(var a in{ms:1,moz:1,webkit:1,o:1})if(p=f[a+"RequestAnimationFrame"])if(b=f[a+"CancelAnimationFrame"]||f[a+"CancelRequestAnimationFrame"])break;p&&b||(p=function(a){var b=g();timeToCall=Math.max(0,16-(b-c));nextTime=b+timeToCall;timerId=f.setTimeout(function(){a(nextTime)},timeToCall);c=nextTime;return timerId},b=function(a){clearTimeout(a)});var g=Date.now||function(){return(new Date).getTime()};
d.loop=function(a,c){function d(){f=p(d,c);a(g++)}var g=0,f;d();return{stop:function(){f&&b(f);f=null}}};return d}({},u,y));l.register("$43",function(d,f,h){function p(b,c,e,d){if(a){var g=e;e=function(a){if((a.MSPOINTER_TYPE_TOUCH||"touch")===a.pointerType)return g(a)}}b.addEventListener(c,e,d);return{unbind:function(){b.removeEventListener(c,e,d)}}}function b(a){a.preventDefault();a.stopPropagation();return!1}var c,a=!!f.navigator.msPointerEnabled,g=a?"MSPointerDown":"touchstart",m=a?"MSPointerMove":
"touchmove",e=a?"MSPointerUp":"touchend";d.ok=function(a){null==c&&(c="function"===typeof h.body.addEventListener);c&&a&&a(d);return c};d.ms=function(){return a};d.dragger=function(a,c){function d(b){a.addEventListener(b,f[b],!1)}function r(b){a.removeEventListener(b,f[b],!1)}var f={};f[g]=function(a){k(a,function(b,e){e.type=g;c(a,e,n)});d(m);d(e);return!0};f[e]=function(a){r(m);r(e);k(a,function(b,d){d.type=e;c(a,d,n)});return!0};f[m]=function(a){k(a,function(b,e){e.type=m;c(a,e,n)});return b(a)};
d(g);var n={kill:function(){r(g);r(m);r(e);a=n=c=null}};return n};d.swiper=function(c,d,f){function r(a){c.addEventListener(a,C[a],!1)}function v(a){c.removeEventListener(a,C[a],!1)}function n(){h&&h.stop();h=null}var h,p,F,C={},B=[],w=[],z=[];C[g]=function(a){p=!1;n();var b=q();k(a,function(a,c){B[a]=b;w[a]=c.clientX;z[a]=c.clientY});F=c.scrollLeft;return!0};C[e]=function(a){k(a,function(a,b){var c=q()-B[a],e=w[a]-b.clientX,c=Math.abs(e)/c;d(c,e?0>e?-1:1:0)});F=null;return!0};C[m]=function(a){var e,
d;null==F||k(a,function(a,b){e=w[a]-b.clientX;d=z[a]-b.clientY});if(d&&Math.abs(d)>Math.abs(e))return p=!0;e&&(p=!0,c.scrollLeft=Math.max(0,F+e));return b(a)};if(!a||f)r(g),r(m),r(e),a&&(c.className+=" mstouch");return{kill:function(){v(g);v(m);v(e);n()},swiped:function(){return p},ms:function(){return a},snap:function(b){a&&!f&&(c.style["-ms-scroll-snap-points-x"]="snapInterval(0px,"+b+"px)",c.style["-ms-scroll-snap-type"]="mandatory",c.style["-ms-scroll-chaining"]="none")},scroll:function(a,b,e){n();
var d=c.scrollLeft,g=a>d?1:-1,r=Math[1===g?"min":"max"],f=Math.round(16*b*g);return h=l.require("$47","fps.js").loop(function(b){b&&(d=Math.max(0,r(a,d+f)),c.scrollLeft=d,a===d&&(n(),e&&e(d)))},c)}}};d.start=function(a,b){return p(a,g,b,!1)};d.move=function(a,b){return p(a,m,b,!1)};d.end=function(a,b){return p(a,e,b,!1)};var k=d.each=function(b,c){if(a)(b.MSPOINTER_TYPE_TOUCH||"touch")===b.pointerType&&c(0,b);else for(var e=-1,d=(b.originalEvent||b).changedTouches||[];++e<d.length;)c(e,d[e])},q=Date.now||
function(){return(new Date).getTime()};return d}({},u,y));l.register("$48",function(d,f,l){d.init=function(d){function b(){f.style.top=String(-d.scrollTop)+"px";return!0}function c(){var b=f;b.textContent=d.value;b.innerHTML=b.innerHTML.replace(/[ \t]/g,a).split(/(?:\r\n|\r|\n)/).join('<span class="eol crlf"></span>\r\n')+'<span class="eol eof"></span>';return!0}function a(a){return'<span class="x'+a.charCodeAt(0).toString(16)+'">'+a+"</span>"}var g=d.parentNode,f=g.insertBefore(l.createElement("div"),
d);h(d).on("input",c).on("scroll",b);h(g).addClass("has-mirror");f.className="ta-mirror";var e=d.offsetWidth-d.clientWidth;2<e&&(f.style.marginRight=String(e-2)+"px");c();b();return{kill:function(){h(d).off("input",c).off("scroll",b);g.removeChild(f);f=null;h(g).removeClass("has-mirror")}}};return d}({},u,y));l.register("$30",function(d,f,h){function p(a,c){for(var d=0,e=-1,k=c&&f[c],q=b[a]||[],h=q.length;++e<h;)callback=q[e],"function"===typeof callback&&(callback(k),d++);return d}var b={},c;d.load=
function(a,c,d){function e(){t&&(clearTimeout(t),t=null);l&&(l.onreadystatechange=null,l=l=l.onload=null);a&&(delete b[a],a=null)}function k(b,c){var g=l&&l.readyState;if(c||!g||"loaded"===g||"complete"===g)c||p(a,d),e()}function q(){if(0===p(a))throw Error('Failed to load "'+(d||a)+'"');e()}if(d&&f[d])"function"===typeof c&&c(f[d]);else if(null!=b[a])b[a].push(c);else{b[a]=[c];var t=setTimeout(q,4E3),l=h.createElement("script");l.setAttribute("src",a);l.setAttribute("async","true");l.onreadystatechange=
k;l.onload=k;l.onerror=q;l.onabort=e;h.getElementsByTagName("head")[0].appendChild(l)}};d.stat=function(a){var b;if(!(b=c)){for(var d,e,f=h.getElementsByTagName("script"),q=-1,p=f.length;++q<p;)if(b=f[q].getAttribute("src"))if(d=b.indexOf("/lib/vendor"),-1!==d){e=b.substr(0,d);break}b=c=e||"/static"}return b+a};return d}({},u,y));l.register("$15",function(d,f,u){function p(a,b){a.setReadOnly(!1);a.on("change",function(a,c){return b.val(c.getValue())});a.on("focus",function(a,c){return b.focus()});
a.on("blur",function(a,c){return b.blur()})}function b(a){a.off("change");a.off("focus");a.off("blur")}function c(a){b(a);a.setReadOnly(!0);a.setHighlightGutterLine(!1);a.setHighlightActiveLine(!1)}function a(a,b){function c(){this.HighlightRules=e}var e=g(b),d=a.require,f=d("ace/lib/oop");f.inherits(e,d("ace/mode/text_highlight_rules").TextHighlightRules);f.inherits(c,d("ace/mode/text").Mode);return new c}function g(a){var b=m(a);return function(){var c=[{token:"empty_line",regex:"^$"},{token:"constant.language",
regex:"(?:&#[0-9]+;)|(?:&#x[0-9a-fA-F]+;)|(?:&[a-zA-Z0-9_:\\.-]+;)"},{token:"constant.language",regex:"<!\\[CDATA\\["},{token:"constant.language",regex:"\\]\\]>"},{token:"locked",regex:"<(?:xliff:)?(?:g|ph)[^>]*>[^<]*</(?:xliff:)?(?:g|ph)>"},{token:"locked",regex:"<(?:xliff:)?(bx|ex|x)[^/>]*/>"},{token:"constant.language",regex:"</?[:a-z]+[^>]*>"}];b&&c.push({token:"printf printf-"+a,regex:b});c.push({defaultToken:"text"});this.$rules={start:c}}}function m(a){switch(a){case "objc":return"%(?:\\d+\\$)?[-+'0# ]*\\d*(?:\\.\\d+|\\.\\*(?:\\d+\\$)?)?(?:hh?|ll?|[qjzTL])?[sScCdDioOuUxXfFeEgGaAp%@]";
case "java":return"%(?:\\d+\\$)?[-+,(0# ]*\\d*(?:\\.\\d+)?(?:[bBhHsScCdoxXeEfgGaA%n]|[tT][A-DFH-IL-NQ-TY-Za-ehj-mpr-sz])";case "php":return"%(?:\\d+\\$)?(?:'.|[-+0 ])*\\d*(?:\\.\\d+)?[suxXbcdeEfFgGo%]";case "auto":return"%(?:\\d+\\$)?(?:[-+0]?\\d*(\\.\\d+)?[duxoefgaDUXOEFGA]|[@scSC%])";case k:return e||"%%"}}var e,k="auto";d.init=function(e,d,g){var m,r=!1,v=g||k,n=e.parentNode,I=n.appendChild(u.createElement("div"));h(n).addClass("has-proxy has-ace");l.require("$30","remote.js").load("https://cdnjs.cloudflare.com/ajax/libs/ace/1.2.6/ace.js",
function(b){if(I){if(!b)throw Error("Failed to load code editor");m=b.edit(I);var n=m.session,g=m.renderer;m.$blockScrolling=Infinity;m.setShowInvisibles(r);m.setWrapBehavioursEnabled(!1);m.setBehavioursEnabled(!1);m.setHighlightActiveLine(!1);n.setUseSoftTabs(!1);g.setShowGutter(!0);g.setPadding(10);g.setScrollMargin(8);n.setMode(a(b,v));m.setValue(e.value,-1);n.setUseWrapMode(!0);d?p(m,d):c(m)}},"ace");return{kill:function(){m&&(b(m),m.destroy(),m=null);I&&(n.removeChild(I),h(n).removeClass("has-proxy has-ace"),
I=null);return this},disable:function(){m&&c(m);d=null;return this},enable:function(a){d=a;m&&p(m,a);return this},resize:function(){m&&m.resize();return this},val:function(a){m&&a!==m.getValue()&&m.setValue(a,-1);return this},invs:function(a){a=a||!1;r!==a&&(r=a,m&&m.setShowInvisibles(a));return this},strf:function(b){b=b||k;b!==v&&(v=b,m&&m.session.setMode(a(f.ace,b)));return this},focus:function(){return this}}};d.strf=function(a,b){k=a;e=b;return d};return d}({},u,y));l.register("$49",function(d,
f,u){function p(a,b){function c(){return b.val(a.getContent())}a.on("input",c);a.on("change",c);a.on("focus",function(a){return b.focus()});a.on("blur",function(a){return b.blur()});a.setMode("design")}function b(a){a.off("input");a.off("change");a.off("focus");a.off("blur")}var c=0;d.load=function(a){var b=l.require("$30","remote.js");b.load(b.stat("/lib/tinymce.min.js"),a,"tinymce");return d};d.init=function(a,g){function f(a){e=a;g?p(a,g):(b(a),a.setMode("readonly"));h(l).removeClass("loading")}
var e,k=!1,q=a.parentNode,t=q.parentNode,l=q.appendChild(u.createElement("div")),s=t.insertBefore(u.createElement("nav"),q);h(q).addClass("has-proxy has-mce");h(l).html(a.value).addClass("mce-content-body loading");s.id="_tb"+String(++c);d.load(function(a){if(!a)throw Error("Failed to load HTML editor");l&&a.init({inline:!0,target:l,hidden_input:!1,theme:"modern",skin:!1,plugins:"link",browser_spellcheck:!0,menubar:!1,fixed_toolbar_container:"#"+s.id,toolbar:"formatselect | bold italic link unlink | bullist numlist outdent indent",
block_formats:"Paragraph=p;Heading 1=h1;Heading 2=h2;Heading 3=h4;Heading 4=h4;Heading 5=h5;Heading 6=h6;",forced_root_block:"p",relative_urls:!1,convert_urls:!1,remove_script_host:!1,document_base_url:"",allow_script_urls:!1,formats:{alignleft:{classes:"alignleft"},alignright:{selector:"p,h1,h2,h3,h4,span,strong,em,a",classes:"alignright"},aligncenter:{selector:"p,h1,h2,h3,h4,span,strong,em,a",classes:"aligncenter"},strikethrough:{inline:"del"}},fix_list_elements:!0,entities:"38,amp,60,lt,62,gt,160,nbsp",
entity_encoding:"named",keep_styles:!1,init_instance_callback:f})});return{val:function(a){null==e?h(l).html(a):e.getContent()!==a&&e.setContent(a);return this},kill:function(){e&&(g&&g.val(e.getContent()),b(e),e.destroy(),e=null);l&&(q.removeChild(l),h(q).removeClass("has-proxy has-mce"),l=null);s&&(t.removeChild(s),s=null);return this},enable:function(a){g=a;e&&p(e,a);return this},disable:function(){if(e){var a=e;b(a);a.setMode("readonly")}g=null;return this},focus:function(){e&&g&&e.focus();return this},
invs:function(a){a=a||!1;k!==a&&(k=a,h(q)[a?"addClass":"removeClass"]("show-invs"));return this}}};return d}({},u,y));l.register("$44",function(d,f,u){function p(a){function b(){p&&(l.off("input",d),p=!1)}function d(){var b=a.value;b!==r&&(l.trigger("changing",[b,r]),r=b)}function e(){d();p&&v!==r&&l.trigger("changed",[r])}function f(){c=a;v=r;p||(l.on("input",d),p=!0);l.trigger("editFocus");s.addClass("has-focus");return!0}function q(){c===a&&(c=null);l.trigger("editBlur");s.removeClass("has-focus");
p&&(e(),b());return!0}var p=!1,l=h(a),s=h(a.parentNode),r=a.value,v;l.blur(q).focus(f);return{val:function(b){r!==b&&(a.value=b,l.triggerHandler("input"),r=b);return!0},kill:function(){b();l.off("blur",q).off("focus",f)},fire:function(){r=null;d()},ping:e,blur:q,focus:f}}function b(a){this.e=a}var c;d._new=function(a){return new b(a)};d.init=function(a){var c=new b(a);a.disabled?(a.removeAttribute("disabled"),c.disable()):a.readOnly?c.disable():c.enable();return c};TextAreaPrototype=b.prototype;TextAreaPrototype.destroy=
function(){this.unlisten();this.e=null};TextAreaPrototype.reload=function(a,b){b?this.l||this.enable():this.l&&this.disable();return this.val(a||"")};TextAreaPrototype.val=function(a){var b=this.e;if(null==a)return b.value;var c=this.p||this.l;c?c.val(a):b.value!==a&&(b.value=a,h(b).triggerHandler("input"));return this};TextAreaPrototype.fire=function(){this.l&&this.l.fire();return this};TextAreaPrototype.ping=function(){this.l&&this.l.ping();return this};TextAreaPrototype.focus=function(){var a=
this.p;a?a.focus():h(this.e).focus()};TextAreaPrototype.focused=function(){return c&&c===this.el};TextAreaPrototype.parent=function(){return this.e.parentNode};TextAreaPrototype.attr=function(a,b){var c=this.e;if(1===arguments.length)return c.getAttribute(a);null==b?c.removeAttribute(a):c.setAttribute(a,b);return this};TextAreaPrototype.editable=function(){return!!this.l};TextAreaPrototype.enable=function(){var a=this.p;this.e.removeAttribute("readonly");this.listen();a&&a.enable&&a.enable(this.l);
return this};TextAreaPrototype.disable=function(){var a=this.p;this.e.setAttribute("readonly",!0);this.unlisten();a&&a.disable&&a.disable();return this};TextAreaPrototype.listen=function(){var a=this.l;a&&a.kill();this.l=p(this.e);return this};TextAreaPrototype.unlisten=function(){this.l&&this.l.kill();this.l=null;return this};TextAreaPrototype.setInvs=function(a,b){var c=this.i||!1;if(b||c!==a)this._i&&(this._i.kill(),delete this._i),(c=this.p)?c.invs&&c.invs(a):a&&(this._i=l.require("$48","mirror.js").init(this.e)),
this.i=a;return this};TextAreaPrototype.getInvs=function(){return this.i||!1};TextAreaPrototype.setMode=function(a){var b=this.p;a!==(this.m||"")&&(this.m=a,b&&b.kill(),this.p=b="code"===a?l.require("$15","ace.js").init(this.e,this.l,this["%"]):"html"===a?l.require("$49","mce.js").init(this.e,this.l):null,this.setInvs(this.i,!0),c&&this.focus());return this};TextAreaPrototype.setStrf=function(a){this["%"]=a;"code"===this.m&&this.p.strf(a);return this};TextAreaPrototype.name=function(a){this.e.setAttribute("name",
a);return this};TextAreaPrototype.placeholder=function(a){this.e.setAttribute("placeholder",a);return this};TextAreaPrototype.redraw=function(){var a=this.p;a&&a.resize&&a.resize()};TextAreaPrototype=null;return d}({},u,y));l.register("$45",function(d,f,l){function p(a){var b=f.console;b&&b.error&&b.error(a)}function b(a){var b=l.createElement("div");a&&b.setAttribute("class",a);return b}function c(a){return function(){a.resize();return this}}function a(a){return function(b){var c=b.target.$index;
if(null==c)return!0;a.select(c);b.stopPropagation();b.preventDefault();return!1}}function g(a){return function(){a.redrawDirty()&&a.redraw();return!0}}function m(a){return function(b){var c;c=b.keyCode;if(40===c)c=1;else if(38===c)c=-1;else return!0;if(b.shiftKey||b.ctrlKey||b.metaKey||b.altKey)return!0;a.selectNext(c);b.stopPropagation();b.preventDefault();return!1}}function e(a,b,c){function e(a){p("row["+a+"] disappeared");return{cellVal:function(){return""}}}return function(d){var f=b||0,g=c?
-1:1,k=a.rows||[];d.sort(function(a,b){return g*(k[a]||e(a)).cellVal(f).localeCompare((k[b]||e(b)).cellVal(f))})}}function k(a){this.w=a}function q(a){this.t=a;this.length=0}function t(a,b,c){var e=l.createElement("div");e.className=c||"";this._=e;this.d=b||[];this.i=a||0;this.length=b.length}function A(a){this.live=a;this.rows=[]}d.create=function(a){return new k(a)};var s=k.prototype;s.init=function(e){var d=this.w,n=d.id,f=d.splity(n+"-thead",n+"-tbody"),k=f[0],f=f[1],q=[],p=[],l=[],s=[];if(e)this.ds=
e,this.idxs=p,this._idxs=null;else if(!(e=this.ds))throw Error("No datasource");k.css.push("wg-thead");f.css.push("wg-tbody");e.eachCol(function(a,b,c){l[a]=n+"-col-"+b;s[a]=c||b});for(var z=b(),G=-1,J=l.length,M=b("wg-cols"),A=k.splitx.apply(k,l);++G<J;)A[G].header(s[G]),M.appendChild(z.cloneNode(!1));e.eachRow(function(a,b,c){q[a]=new t(a,b,c);p[a]=a});this.rows=q;this.cols=M;this.ww=null;this.root=e=f.body;this.head=k;k.redraw=c(this);k=f.fixed=A[0].bodyY()||20;d.lock().resize(k,f);d.css.push("is-table");
d.restyle();this.sc&&this._re_sort(J);this.redrawDirty();this.render();h(e).attr("tabindex","-1").on("keydown",m(this)).on("mousedown",a(this)).on("scroll",g(this));return this};s.clear=function(){for(var a=this.pages||[],b=a.length;0!==b--;)a[b].destroy();this.pages=[];this.sy=this.mx=this.mn=this.vh=null;void 0;return this};s.render=function(){for(var a,b,c=[],e=this.rows||[],d=-1,f,g=this.idxs,k=g.length,h=this.idxr={},z=this.r,m=this._r,q=this.root,p=this.cols;++d<k;){0===d%100&&(a=p.cloneNode(!0),
b=new A(a),b.h=2200,b.insert(q),c.push(b));f=g[d];h[f]=d;a=e[f];if(null==a)throw Error("Render error, no data at ["+f+"]");a.page=b;b.rows.push(a)}b&&100!==b.size()&&b.sleepH(22);this.pages=c;this.mx=this.mn=null;this.redrawDirty();this.redraw();null==z?null!=m&&(a=e[m])&&a.page&&(delete this._r,this.select(m,!0)):(a=e[z])&&a.page?this.select(z,!0):(this.deselect(),this._r=z);return this};s.resize=function(){var a=-1,b=this.ww||(this.ww=[]),c=this.w,e=c.cells[0],d=e.body.childNodes,f=d.length,g=this.pages||
[],k=g.length;for(c.redraw.call(e);++a<f;)b[a]=d[a].style.width;if(k){c=this.mx;for(a=this.mn;a<=c;a++)g[a].widths(b);this.redrawDirty()&&this.redraw()}};s.redrawDirty=function(){var a=!1,b=this.root,c=b.scrollTop,b=b.clientHeight;this.sy!==c&&(a=!0,this.sy=c);this.vh!==b&&(a=!0,this.vh=b);return a};s.redraw=function(){for(var a=0,b=-1,c=null,e=null,d=this.ww,f=this.sy,g=this.vh,k=this.mn,h=this.mx,z=Math.max(0,f-100),f=g+f+100,m=this.pages||[],q=m.length;++b<q&&!(a>f);)g=m[b],a+=g.height(),a<z||
(null===c&&(c=b),e=b,g.rendered||g.render(d));if(k!==c){if(null!==k&&c>k)for(b=k;b<c;b++){g=m[b];if(!g)throw Error("Shit!");g.rendered&&g.sleep()}this.mn=c}if(h!==e){if(null!==h&&e<h)for(b=h;b>e;b--)g=m[b],g.rendered&&g.sleep();this.mx=e}};s.selected=function(){return this.r};s.thead=function(){return this.w.cells[0]};s.tbody=function(){return this.w.cells[1]};s.tr=function(a){return(a=this.rows[a])?a.cells():[]};s.td=function(a,b){return this.tr(a)[b]};s.next=function(a,b,c){null==c&&(c=this.r||
0);var e=this.idxs,d=e.length,f=(this.idxr||{})[c];for(c=f;c!==(f+=a)&&!(0<=f&&d>f);)if(b&&d)f=1===a?-1:d,b=!1;else return null;c=e[f];return null==c||null==this.rows[c]?(p("Bad next: ["+f+"] does not map to data row"),null):c};s.selectNext=function(a,b,c){a=this.next(a,b);null!=a&&this.r!==a&&this.select(a,c);return this};s.deselect=function(a){var b=this.r;null!=b&&(this.r=null,h(this.tr(b)).removeClass("selected"),this.w.fire("wgRowDeselect",[b,a]));return this};s.select=function(a,b){var c=this.rows[a],
e=c&&c.page;if(!e)return this.deselect(!1),p("Row is filtered out"),this;this.deselect(!0);var d,f=this.w.cells[1];e.rendered||(d=e.top(),f.scrollY(d),this.redrawDirty()&&this.redraw());if(!c.rendered)return e.rendered||p("Failed to render page"),p("Row ["+c.i+"] not rendered"),this;e=c.cells();h(e).addClass("selected");this.r=a;b||(d=f.scrollY(),h(this.root).focus(),d!==f.scrollY()&&f.scrollY(d));f.scrollTo(e[0],!0);this.w.fire("wgRowSelect",[a,c.data()]);return this};s.unfilter=function(){this._idxs&&
(this.idxs=this._sort(this._idxs),this._idxs=null,this.clear().render());return this};s.filter=function(a){this._idxs||(this._idxs=this.idxs);this.idxs=this._sort(a);return this.clear().render()};s.each=function(a){for(var b,c=-1,e=this.rows||[],d=this.idxs||[],f=d.length;++c<f;)b=d[c],a(e[b],c,b);return this};s.sortable=function(a){var b=this.sc||(this.sc=new q(this));b.has(a)||b.add(a);return this};s._re_sort=function(a){var b=-1,c=this.sc,e=c.active;for(this.sc=c=new q(this);++b<a;)c.add(b);e&&
(b=this.head.indexOf(e.id),-1===b&&(b=Math.min(e.idx,a-1)),this.sort(b,e.desc));return this};s._sort=function(a,b){b?(this.s=b,b(a)):(b=this.s)&&b(a);return a};s.sort=function(a,b){this._sort(this.idxs,e(this,a,b));this.sc.activate(a,b);return this};s=null;s=q.prototype;s.has=function(a){return null!=this[a]};s.add=function(a){var b=this,c=b.t.head.cells[a];b[a]={desc:null,idx:a,id:c.id};b.length++;c.addClass("wg-sortable").on("click",function(c){if("header"===c.target.nodeName.toLowerCase())return c.stopImmediatePropagation(),
b.toggle(a),!1});return b};s.toggle=function(a){this.t.sort(a,!this[a].desc).clear().render();return this};s.activate=function(a,b){var c,e;c=this.active;var d=this[a],f=this.t.head.cells;c&&(e=f[c.idx])&&(e.removeClass(c.css),c!==d&&e.restyle());(e=f[a])?(d.desc=b,this.active=d,c="wg-"+(b?"desc":"asc"),e.addClass(c).restyle(),d.css=c):this.active=null;return this};s=null;s=t.prototype;s.render=function(a){var b,c=[],e=this._,d=this.d,f=this.length;if(e){for(;0!==f--;)c[f]=b=e.cloneNode(!1),b.textContent=
d[f]||"\u00a0",b.$index=this.i,a[f].appendChild(b);this._=null;this.c=c}else for(c=this.c;0!==f--;)a[f].appendChild(c[f]);this.rendered=!0;return this};s.cells=function(){return this.c||[]};s.data=function(){return this.d||[]};s.destroy=function(){this.page=null;this.rendered=!1};s.cellVal=function(a){return this.d[a]};s=null;s=A.prototype;s.size=function(){return this.rows.length};s.insert=function(a){var c=this.h,e=b("wg-dead");e.style.height=String(c)+"px";a.appendChild(e);return this.dead=e};
s.top=function(){return(this.rendered?this.live:this.dead).offsetTop};s.height=function(){var a=this.h;null==a&&(this.h=a=this.rendered?this.live.firstChild.offsetHeight:this.dead.offsetHight);a||p("row has zero height");return a};s.render=function(a){for(var b,c=-1,e=this.rows,d=e.length,f=this.dead,g=this.live,k=g.childNodes;++c<d;)b=e[c],b.rendered||b.render(k);d=a.length;for(c=0;c<d;c++)k[c].style.width=a[c];f.parentNode.replaceChild(g,f);this.rendered=!0;this.h=null;return this};s.sleep=function(){var a=
this.height(),b=this.live,c=this.dead;c.style.height=String(a)+"px";b.parentNode.replaceChild(c,b);this.rendered=!1;this.h=a;return this};s.sleepH=function(a){a*=this.rows.length;var b=this.dead;b&&(b.style.height=String(a)+"px");this.rendered||(this.h=a);return this};s.widths=function(a){for(var b=this.live.childNodes,c=a.length;0!==c--;)b[c].style.width=a[c];return this};s.destroy=function(){var a=this.rendered?this.live:this.dead,b=this.rows,c=b.length;for(a.parentNode.removeChild(a);0!==c--;)b[c].destroy()};
s=null;return d}({},u,y));l.register("$37",function(d,f,u){function p(a,b){var c=a.id,e=c&&s[c],d=e&&e.parent();if(!e||!d)return null;var f=d.dir===A,c=f?"X":"Y",g="page"+c,f=f?t:q,z=f(d.el),c=b["offset"+c],k=d.el,h=k.className;null==c&&(c=b[g]-f(a));c&&(z+=c);k.className=h+" is-resizing";return{done:function(){k.className=h},move:function(a){d.resize(a[g]-z,e);return!0}}}function b(b,c){function e(){h(u).off("mousemove",d);v&&(v.done(),v=null);return!0}function d(a){v?v.move(a):e();return!0}if(v)return!0;
v=p(b.target,b);if(!v)return!0;h(u).one("mouseup",e).on("mousemove",d);return a(b)}function c(a,b){var c=b.type;"touchmove"===c?v&&v.move(b):"touchstart"===c?v=p(a.target,b):"touchend"===c&&v&&(v.done(),v=null)}function a(a){a.stopPropagation();a.preventDefault();return!1}function g(a){var b=r;b&&b.redraw();a&&a.redraw();return r=a}function m(a,b){var c=h(b).on("editFocus",function(){c.trigger("wgFocus",[g(a)])}).on("editBlur",function(){c.trigger("wgBlur",[g(null)])})}function e(a){var b=a.id,c=
a.className;this.id=b;this.el=a;this.pos=this.index=0;this.css=[c||"wg-root","wg-cell"];this._cn=c;s[b]=this;this.clear()}var k=l.require("$18","html.js"),q=k.top,t=k.left,A=1,s={},r,v=!1;d.init=function(a){var d=new e(a);d.redraw();l.require("$43","touch.js").ok(function(b){b.dragger(a,c)});h(a).mousedown(b);return d};f=e.prototype;f.fire=function(a,b){var c=h.Event(a);c.cell=this;h(this.el).trigger(c,b);return this};f.each=function(a){for(var b=-1,c=this.cells,e=c.length;++b<e;)a(c[b],b);return this};
f.indexOf=function(a){return(a=s[a.id||String(a)])&&a.pid===this.id?a.index:-1};f.on=function(){return this.$("on",arguments)};f.off=function(){return this.$("off",arguments)};f.find=function(a){return h(this.el).find(a)};f.$=function(a,b){h.fn[a].apply(h(this.el),b);return this};f.addClass=function(a){this.css.push(a);return this};f.removeClass=function(a){a=this.css.indexOf(a);-1!==a&&this.css.splice(a,1);return this};f.parent=function(){return this.pid&&s[this.pid]};f.splitx=function(){return this._split(A,
arguments)};f.splity=function(){return this._split(2,arguments)};f._split=function(a,b){(this.length||this.field)&&this.clear();for(var c=-1,d,f=b.length,g=1/f,h=0;++c<f;){d=k.el();this.body.appendChild(d);for(var z=d,m=b[c],q=m,p=1;s[m];)m=q+"-"+ ++p;z.id=m;d=new e(d);d.index=c;d.pid=this.id;d.pos=h;h+=g;this.cells.push(d);this.length++}this.dir=a;this.redraw();return this.cells};f.destroy=function(){this.clear();delete s[this.id];var a=this.el;a.innerHTML="";a.className=this._cn||"";h(a).off();
return this};f.exists=function(){return this===s[this.id]};f.clear=function(){for(var a=this.el,b=this.cells,c=this.field,e=this.body,d=this.nav,f=this.length||0;0!==f--;)delete s[b[f].destroy().id];this.cells=[];this.length=0;d&&(a.removeChild(d),this.nav=null);e&&(c&&(k.ie()&&h(e).triggerHandler("blur"),c.destroy(),this.field=null),this.table&&(this.table=null),a.removeChild(e));this.body=a.appendChild(k.el("","wg-body"));this._h=null;return this};f.resize=function(a,b){if(!b&&(b=this.cells[1],
!b))return;var c=b.index,e=this.cells;this.parent();var d=h(this.el)[this.dir===A?"width":"height"](),f=e[c+1],c=e[c-1];pad=(b.body||b.el.firstChild).offsetTop||0;max=(f?f.pos*d:d)-pad;min=c?c.pos*d:0;b.pos=Math.min(max,Math.max(min,a))/d;this.redraw();return this};f.distribute=function(a){for(var b=-1,c=0,e,d=this.cells,f=a.length;++b<f&&(e=d[++c]);)e.pos=Math.max(0,Math.min(1,a[b]));this.redraw();return this};f.distribution=function(){for(var a=[],b=0,c=this.cells,e=c.length-1;b<e;)a[b]=c[++b].pos;
return a};f.restyle=function(){var a=this.css.concat();0===this.index?a.push("first"):a.push("not-first");this.dir&&(a.push("wg-split"),2===this.dir?a.push("wg-split-y"):a.push("wg-split-x"));this.t&&a.push("has-title");this.nav&&a.push("has-nav");this.field&&(a.push("is-field"),this.field.editable()?a.push("is-editable"):a.push("is-readonly"));a=a.join(" ");a!==this._css&&(this._css=a,this.el.className=a);return this};f.redraw=function(a){this.restyle();var b=this.el,c=this.body,e=this.field;if(c){var d,
f=b.clientWidth||0,g=b.clientHeight||0,z=c.offsetTop||0,g=z>g?0:g-z;this._h!==g&&(this._h=g,c.style.height=String(g)+"px",d=e);this._w!==f&&(this._w=f,d=e);d&&d.redraw()}c=this.length;f=1;g=this.nav;for(z=2===this.dir?"height":"width";0!==c--;)e=this.cells[c],g?d=1:(e.fixed&&(e.pos=e.fixed/h(b)[z]()),d=f-e.pos,f=e.pos),e.el.style[z]=String(100*d)+"%",e.redraw(a);return this};f.contents=function(a,b){var c=this.el,e=this.body;if(null==a)return e.innerHTML;this.length?this.clear():e&&(c.removeChild(e),
e=null);e||(this.body=e=c.appendChild(k.el("",b||"wg-content")),this._h=null,(c=this.lang)&&this._locale(c,this.rtl,!0));"string"===typeof a?h(e)._html(a):a&&this.append(a);this.redraw();return this};f.textarea=function(a,b){var c=this.field;if(c){var e=c.editable();c.reload(a,b);e!==b&&this.restyle()}else this.length&&this.clear(),e=k.el("textarea"),e.setAttribute("wrap","virtual"),e.value=a,this.contents(e),c=l.require("$44","field.js")._new(e)[b?"enable":"disable"](),m(this,e),this.field=c,this.restyle();
this.lang||this.locale("en");return c};f.locale=function(a){a=l.require("$6","locale.js").cast(a);return this._locale(String(a),a.isRTL())};f._locale=function(a,b,c){var e=this.body;if(c||a!==this.lang)this.lang=a,e&&e.setAttribute("lang",a);if(c||b!==this.rtl)this.rtl=b,e&&e.setAttribute("dir",b?"RTL":"LTR");return this};f.editable=function(){var a=this.field;if(a)return a.editable()?a:null;var b=this.cells,c=b.length,e=this.navigated();if(null!=e)return b[e].editable();for(;++e<c;){for(e=0;e<c;c++);
if(a=b[e].editable())return a}};f.eachTextarea=function(a){var b=this.field;b?a(b):this.each(function(b){b.eachTextarea(a)});return this};f.append=function(a){a&&(a.nodeType?k.init(this.body.appendChild(a)):k.init(h(a).appendTo(this.body)));return this};f.prepend=function(a){var b=this.body;if(a.nodeType){var c=b.firstChild;k.init(c?b.insertBefore(a,c):b.appendChild(a))}else k.init(h(a).prependTo(b));return this};f.before=function(a){var b=this.body;a.nodeType?k.init(this.el.insertBefore(a,b)):k.init(h(a).insertBefore(b));
return this};f.header=function(a,b){if(null==a&&null==b)return this.el.getElementsByTagName("header")[0];this.t=k.txt(a||"");this.el.insertBefore(k.el("header",b),this.body).appendChild(this.t);this.redraw();return this};f.title=function(a){var b=this.t;if(b)return b.nodeValue=a||"",b;this.header(a);return this.t};f.titled=function(){var a=this.t;return a&&a.nodeValue};f.bodyY=function(){return q(this.body,this.el)};f.scrollY=function(a){if(R===a)return this.body.scrollTop;this.body.scrollTop=a};
f.tabulate=function(a){var b=this.table;b?b.clear():b=l.require("$45","wgtable.js").create(this);b.init(a);return this.table=b};f.lock=function(){this.body.className+=" locked";return this};f.scrollTo=function(a,b){var c,e=this.body;c=e.scrollTop;var d=q(a,e);if(c>d)c=d;else{var f=e.clientHeight,d=d+h(a).outerHeight();if(f+c<d)c=d-f;else return}b?e.scrollTop=c:h(e).stop(!0).animate({scrollTop:c},250)};f.navigize=function(b,c){function e(a){var b=f[a],c=z[a],d=h(b.el).show();c.addClass("active");m=
a;q.data("idx",a);b.fire("wgTabSelect",[a]);return d}var d=this,f=d.cells,g=d.nav,m,z=[];g&&d.el.removeChild(g);var g=d.nav=d.el.insertBefore(k.el("nav","wg-tabs"),d.body),q=h(g).on("click",function(b){var c=h(b.target).data("idx");if(null==c)return!0;if(null!=m){var g=z[m];h(f[m].el).hide();g.removeClass("active")}e(c);d.redraw();return a(b)});null==c&&(c=q.data("idx")||0);d.each(function(a,c){z[c]=h('<a href="#'+a.id+'"></a>').data("idx",c).text(b[c]).appendTo(q);a.pos=0;h(a.el).hide()});e(f[c]?
c:0);d.lock();d.redraw();return d};f.navigated=function(){var a=this.nav;if(a)return h(a).data("idx")};f=null;return d}({},u,y));l.register("$26",function(d,f,h){function p(b){this.reIndex([]);if(b)for(var c in b)this.add(c,b[c])}d.init=function(b){return new p(b)};f=p.prototype;f.reIndex=function(b){for(var c={},a=-1,d=b.length;++a<d;)c[b[a]]=a;this.keys=b;this.length=a;this.ords=c};f.key=function(b,c){if(null==c)return this.keys[b];var a=this.keys[b],d=this.ords[c];if(c!==a){if(null!=d)throw Error("Clash with item at ["+
d+"]");this.keys[b]=c;delete this.ords[a];this.ords[c]=b}return b};f.indexOf=function(b){b=this.ords[b];return null==b?-1:b};f.add=function(b,c){var a=this.ords[b];null==a&&(this.keys[this.length]=b,a=this.ords[b]=this.length++);this[a]=c;return a};f.get=function(b){return this[this.ords[b]]};f.has=function(b){return null!=this.ords[b]};f.del=function(b){this.cut(this.ords[b],1)};f.cut=function(b,c){c=c||1;var a=[].splice.call(this,b,c);this.keys.splice(b,c);this.reIndex(this.keys);return a};f.each=
function(b){for(var c=-1,a=this.keys,d=this.length;++c<d;)b(a[c],this[c],c);return this};f.sort=function(b){for(var c=-1,a=this.length,d,f=this.keys,e=this.ords,k=[];++c<a;)k[c]=[this[c],f[c]];k.sort(function(a,c){return b(a[0],c[0])});for(c=0;c<a;c++)d=k[c],this[c]=d[0],d=d[1],f[c]=d,e[d]=c;return this};f.join=function(b){return[].join.call(this,b)};f=null;return d}({},u,y));l.register("$24",function(d,f,u){function p(a,c){var e=a.weight(),d=c.weight();return e===d?b(a,c):e>d?-1:1}function b(a,b){return a.hash().localeCompare(b.hash())}
function c(a){var b=[];a&&(a.saved()||b.push("po-unsaved"),a.fuzzy()?b.push("po-fuzzy"):a.flagged()&&(b.push("po-flagged"),b.push("po-flag-"+a.flags().join(" po-flag-"))),a.translation()||b.push("po-empty"),a.comment()&&b.push("po-comment"));return b.join(" ")}function a(a,b,c){b=h(a.title(b).parentNode);var e=b.find("span.lang");c?(c=l.require("$6","locale.js").cast(c),e.length||(e=h("<span></span>").prependTo(b)),e.attr("lang",c.lang).attr("class",c.getIcon()||"lang region region-"+(c.region||"zz").toLowerCase())):
(e.remove(),c="en");a.locale(c);return b}function g(){this.dirty=0}var m="poUpdate",e="changing",k="changed",q=0,t=1,A=2,s=3,r=4,v=5,n=/^\s+/,y,D,F=l.require("$3","string.js").sprintf,C=l.require("$18","html.js");d.extend=function(a){return a.prototype=new g};d.localise=function(a){D=a;return d};var B=function(){var a=u.createElement("p");return function(b){a.innerHTML=b.replace("src=","x=");return a.textContent}}(),w=g.prototype=l.require("$36","abstract.js").init(["getListColumns","getListHeadings",
"getListEntry"],["editable","t"]);w.init=function(){this.localise();this.editable={source:!0,target:!0};this.mode="";this.html=!1;return this};w.localise=function(a){a||(a=D||l.require("$1","t.js").init());var b=[];b[q]=a._x("Source text","Editor")+":";b[s]=a._x("%s translation","Editor")+":";b[r]=a._x("Context","Editor")+":";b[v]=a._x("Comments","Editor")+":";b[t]=a._x("Single","Editor")+":";b[A]=a._x("Plural","Editor")+":";this.labels=b;this.t=a;return this};w.setRootCell=function(a){function b(a){c.redraw(!0,
a);return!0}var c=l.require("$37","wingrid.js").init(a);h(f).on("resize",b);this.redraw=b;h(a).on("wgFocus wgBlur",function(a,b){a.stopPropagation();y=b});this.destroy=function(){c.destroy();h(f).off("resize",b)};this.rootDiv=a;return c};g.prototype.$=function(){return h(this.rootDiv)};w.on=function(a,b){return h(this.rootDiv).on(a,b)};w.setListCell=function(a){var b=this;b.listCell=a;a.on("wgRowSelect",function(a,c){b.loadMessage(b.po.row(c));return!0}).on("wgRowDeselect",function(a,c,e){e||b.loadNothing();
return!0})};w.setSourceCell=function(a){this.sourceCell=a;a=a.find("p.notes");this.$notes=a.length?a:null};w.setTargetCell=function(a){this.targetCell=a;a=a.find("p.errors");this.$errs=a.length?a:null};w.next=function(a,b,c){for(var e=this.listTable,d=e.selected(),f=d,g,k=this.po;null!=(d=e.next(a,c,d));){if(f===d){d=null;break}if(b&&(g=k.row(d),g.translated(0)))continue;break}null!=d&&e.select(d,!0);return d};w.current=function(a){var b=this.active;if("undefined"===typeof a)return b;a?a.is(b)?this.reloadMessage(a):
this.loadMessage(a):this.unloadActive();return this};w.getTargetEditable=function(){return this.editable.target&&this.targetCell&&this.targetCell.editable()};w.getSourceEditable=function(){return this.editable.source&&this.sourceCell&&this.sourceCell.editable()};w.getContextEditable=function(){return this.editable.context&&this.contextCell&&this.contextCell.editable()};w.getFirstEditable=function(){return this.getTargetEditable()||this.getSourceEditable()||this.getContextEditable()};w.searchable=
function(a){a&&(this.dict=a,this.po&&this.rebuildSearch());return this.dict&&!0};w.rebuildSearch=function(){var a=-1,b=this.po.rows,c=b.length,e=this.dict;for(e.clear();++a<c;)e.add(a,b[a].toText())};w.filtered=function(){return this.lastSearch||""};w.filter=function(a,b){var c,e=this.listTable,d=this.lastFound,f=this.lastSearch;if(a){if(f===a)return d||0;if(f&&!d&&0===a.indexOf(f))return 0;c=this.dict.find(a)}this.lastSearch=f=a;this.lastFound=d=c?c.length:this.po.length;c?e.filter(c):e.unfilter();
b||this.fire("poFilter",[f,d]);return d};w.countFiltered=function(){return this.lastSearch?this.lastFound:this.po.length};w.unsave=function(a,b){var c=!1;if(a=a||self.active){if(c=a.saved(b))this.dirty++,a.unsave(b),this.fire("poUnsaved",[a,b]);this.markUnsaved(a)}return c};w.markUnsaved=function(a){var b=this.po.indexOf(a);if(b=this.listTable.tr(b)){var e=b[0].className;changedStyle=e.replace(/(?:^| +)po-[a-z]+/g,"")+" "+c(a);changedStyle!==e&&h(b).attr("class",changedStyle)}};w.save=function(a){var b=
this.po;if(this.dirty||a)b.each(function(a,b){b.save()}),this.listCell.find("div.po-unsaved").removeClass("po-unsaved"),this.dirty=0,this.fire("poSave");return b};w.fire=function(a,b){var c=this.on;if(c&&c[a]&&(c=c[a].apply(this,b||[]),!1===c))return!1;c=h.Event(a);h(this.rootDiv).trigger(c,b);return!c.isDefaultPrevented()};w.reload=function(){var a=this,e,d=a.listCell,f=a.listTable,g=a.po,k=g&&g.locale(),h=k&&k.isRTL(),m=g&&g.length||0;if(g&&g.row){a.lastSearch&&(a.lastSearch="",a.lastFound=m,a.fire("poFilter",
["",m]));f&&(e=f.thead().distribution());g=g["export"]().sort(k?p:b);a.listTable=f=d.tabulate({eachCol:function(b){var c,e,d=a.getListColumns(),f=a.getListHeadings();for(e in d)c=d[e],b(c,e,f[c])},eachRow:function(b){for(var e=-1,d;++e<m;)d=g[e],b(e,a.getListEntry(d),c(d))}});var q,d=a.getListColumns();for(q in d)f.sortable(d[q]);e&&f.thead().distribute(e);f.tbody().$(h?"addClass":"removeClass",["is-rtl"]);a.targetLocale=k;a.fire("poLoad");return!!m}d&&d.clear().header("Error").contents("Invalid messages list")};
w.load=function(a,b){this.po=a;this.dict&&this.rebuildSearch();this.reload()&&(-1!==b?this.listTable.select(b||0):this.active&&this.unloadActive())};w.pasteMessage=function(a){var b,c=0;(b=this.sourceCell)&&b.eachTextarea(function(b){b.val(a.source(null,c++))});(b=this.contextCell)&&b.eachTextarea(function(b){b.val(a.context())});if(b=this.targetCell)c=0,b.eachTextarea(function(b){b.val(a.translation(c++))});this.updateListCell(a,"source");this.updateListCell(a,"target");return this};w.reloadMessage=
function(a){var b,c;this.pasteMessage(a);(b=this.sourceCell)&&this.setNotes(a.notes())&&b.redraw();if(b=this.targetCell)c=b.navigated()||0,this.setErrors(a.errors(c))&&b.redraw();return this};w.setNotes=function(a){var b=!1,c=this.$notes;a?(c||(this.$notes=c=h('<p class="notes"></p>').insertAfter(this.sourceCell.header())),a=C.h(a,!0),c.html(a).show(),C.init(c),b=!0):c&&c.text()&&(c.text("").hide(),b=!0);return b};w.setErrors=function(a){var b=!1,c=this.$errs;a&&a.length?(c||(this.$errs=c=h('<p class="errors"></p>').insertAfter(this.targetCell.header())),
c.html(C.h(a.join(".\n")+".",!0)).show(),C.init(c),b=!0):c&&c.text()&&(c.text("").hide(),b=!0);return b};w.loadMessage=function(b){function c(e){var f,g=e,g=e.id;f=N[q];e.off();e.titled()!==f&&a(e,f,n.sourceLocale||"en");n.setNotes(b.notes())&&e.clear();T?(f=e.splity(g+"-singular",g+"-plural"),g=f[0],f=f[1],g.header(N[t]).textarea(U,O).setStrf(C).setMode(w).setInvs(B),f.header(N[A]).textarea(T,O).setStrf(C).setMode(w).setInvs(B),e.lock(),O&&(d(g,0),d(f,1))):(e.textarea(U,O).setStrf(C).setMode(w).setInvs(B),
O&&d(e,0))}function d(a,c){a.on(e,function(a,e,d){1===c?b.plural(e):(b.source(e),n.updateListCell(b,"source"));n.unsave(b,c)}).on(k,function(a){0===c&&n.po.reIndex(b);n.dict&&n.rebuildSearch();n.fire(m,[b])})}function f(c,e,d){L&&c.eachTextarea(function(a){a.ping()});c.off();var k=e.isKnown()&&e.label||"Target",k=F(N[s],k);c.titled()!==k&&a(c,k,e);n.setErrors(b.errors(d))&&c.clear();if(b.pluralized()){var h=[],m=e.plurals||["One","Other"],q=l.require("$26","collection.js").init();for(b.each(function(a,
b,c){if(c||m[a])h.push(m[a]||"Form "+a),q.add("plural-"+a,c)});(k=h.length)<e.nplurals;)h.push(m[k]||"Form "+q.length),q.add("plural-"+k,b.translation(k));children=c.splitx.apply(c,q.keys);c.each(function(a,c){var e=L&&!b.disabled(c);a.textarea(q[c],e).setStrf(C).setMode(w).setInvs(B);L&&g(a,c)});c.navigize(h,d||null).on("wgTabSelect",function(a,c){var e=L&&a.cell.editable();e&&e.focus();n.setErrors(b.errors(c));n.fire("poTab",[c])})}else L=L&&!b.disabled(0),c.textarea(b.translation(),L).setStrf(C).setMode(w).setInvs(B),
L&&g(c,0)}function g(a,c){a.on(e,function(a,e,d){b.translate(e,c);0===c&&n.updateListCell(b,"target");b.fuzzy(c)?n.fuzzy(!1,b,c):n.unsave(b,c);""===e?n.fire("poEmpty",[!0,b,c]):""===d&&n.fire("poEmpty",[!1,b,c])}).on(k,function(a){n.dict&&n.rebuildSearch();n.fire(m,[b])})}function h(c){c.off();a(c,N[r]);c.textarea(b.context(),!0).setMode(w).setInvs(B);R&&c.on(e,function(a,c){b.context(c);n.updateListCell(b,"source");n.unsave(b,H)}).on(k,function(){n.po.reIndex(b);n.dict&&n.rebuildSearch();n.fire(m,
[b])})}function p(c){var d=N[v];c.titled()!==d&&a(c,d);c.off().on(e,function(a,c){b.comment(c);n.fire("poComment",[b,c]);n.unsave(b,H)}).textarea(b.comment(),!0)}var n=this,w=n.mode,u=b.isHTML(),B=n.inv||!1,E=this.fmt||null,C=b.format()||null,D=b.is(n.active),H=0,Q=n.sourceCell,S=n.targetCell,V=n.contextCell,W=n.commentCell,L=n.editable.target,O=n.editable.source,R=n.editable.context,U=b.source()||"",T=b.plural()||"",P=y,X=n.targetLocale,N=n.labels;n.html!==u&&(n.html=u,"code"!==n.mode&&(w=u?"html":
"",n.setMode(w)));n.active=b;Q&&c(Q);V&&h(V);S&&X&&(H=S.navigated()||0,f(S,X,H));W&&p(W);P&&(P.exists()||(P=P.parent()),(u=P.editable())&&u.focus());E!==C&&(this.fmt=C);D||n.fire("poSelected",[b])};w.unloadActive=function(){var a;(a=this.$notes)&&a.text("").hide();(a=this.$errs)&&a.text("").hide();(a=this.sourceCell)&&a.off().clear();(a=this.contextCell)&&a.off().clear();(a=this.targetCell)&&a.off().clear();(a=this.commentCell)&&a.off();this.active&&(this.fire("poDeselected",[this.active]),this.active=
null);return this};w.loadNothing=function(){var a,b=this.t,c=this.mode||"",e=this.inv||!1,d=this.fmt;this.unloadActive();(a=this.commentCell)&&a.textarea("",!1);if(a=this.sourceCell)a.textarea("",!1).setStrf(d).setMode(c).setInvs(e),a.title(b._x("Source text not loaded","Editor")+":");if(a=this.contextCell)a.textarea("",!1).setMode(c).setInvs(e),a.title(b._x("Context not loaded","Editor")+":");if(a=this.targetCell)a.textarea("",!1).setStrf(d).setMode(c).setInvs(e),a.title(b._x("Translation not loaded",
"Editor")+":");this.fire("poSelected",[null])};w.updateListCell=function(a,b){var c=this.getListColumns()[b],e=this.getListEntry(a)[c||0],d=this.po.indexOf(a);if(c=this.listTable.td(d,c))c.textContent=e};w.cellText=function(a){if(-1!==a.indexOf("<")||-1!==a.indexOf("&"))a=B(a);return a.replace(n,"")||"\u00a0"};w.fuzzy=function(a,b,c){if(!b){b=this.active;if(!b)return null;null==c&&(c=this.targetCell&&this.targetCell.navigated()||0)}var e=b.fuzzy(c);null==a||e==a||a&&!b.translated(c)||!this.fire("poFuzzy",
[b,a,c])||(b.fuzzy(c,a),this.fire(m,[b])&&this.unsave(b,c));return e};w.add=function(a,b){var c,e=this.po.get(a,b);e?c=this.po.indexOf(e):(c=this.po.length,e=this.po.add(a,b),this.load(this.po,-1),this.fire("poAdd",[e]),this.fire(m,[e]));this.lastSearch&&this.filter("");this.listTable.select(c);return e};w.del=function(a){if(a=a||this.active){var b=this.lastSearch,c=this.po.del(a);null!=c&&(this.unsave(a),this.fire("poDel",[a]),this.fire(m,[a]),this.reload(),this.dict&&this.rebuildSearch(),this.active&&
this.active.equals(a)&&this.unloadActive(),this.po.length&&(b&&this.filter(b),this.active||(c=Math.min(c,this.po.length-1),this.listTable.select(c))))}};w.setMono=function(a){return this.setMode(a?"code":this.html?"html":"")};w.setMode=function(a){this.mode!==a&&(this.mode=a,this.callTextareas(function(b){b.setMode(a)}));return this};w.getMono=function(){return"code"===this.mode};w.setInvs=function(a){(this.inv||!1)!==a&&(this.inv=a,this.callTextareas(function(b){b.setInvs(a)}),this.fire("poInvs",
[a]));return this};w.getInvs=function(){return this.inv||!1};w.callTextareas=function(a){var b=this.targetCell;b&&b.eachTextarea(a);(b=this.contextCell)&&b.eachTextarea(a);(b=this.sourceCell)&&b.eachTextarea(a);return this};w.focus=function(){var a=this.getTargetEditable();a&&a.focus();return this};w=null;return d}({},u,y));l.register("$25",function(d,f,h){Number.prototype.format=function(d){d=Math.pow(10,d||0);var b=Math.round(d*this)/d;d=[];var b=String(b),c=b.split("."),b=c[0],c=c[1],a=b.length;
do d.unshift(b.substring(a-3,a));while(0<(a-=3));b=d.join(",");if(d=c){d=c;for(var f,c=d.length;"0"===d.charAt(--c);)f=c;f&&(d=substring(0,f));d=c=d}d&&(b+="."+c);return b};Number.prototype.percent=function(d){var b=0,c=this&&d?100*(this/d):0;if(0===c)return"0";if(100===c)return"100";if(99<c){c=Math.min(c,99.99);do d=c.format(++b);while("100"===d.substr(0,3)&&2>b)}else if(0.5>c){c=Math.max(c,1E-4);do d=c.format(++b);while("0"===d&&4>b)}else d=c.format(0);return d};return d}({},u,y));l.register("$12",
function(d,f,h){function p(){this.init()._validate();this.sourceLocale={lang:"en",label:"English",plurals:["One","Other"]}}f=l.require("$24","base.js");l.require("$25","number.js");d.init=function(b){var c=new p;b=c.setRootCell(b);var a=b.splity("po-list","po-edit"),d=a[0],f=a[1],a=f.splitx("po-trans","po-comment"),e=a[0],k=a[1].header("Loading.."),a=e.splity("po-source","po-target"),e=a[0].header("Loading.."),a=a[1].header("Loading..");b.distribute([0.34]);f.distribute([0.8]);c.setListCell(d);c.setSourceCell(e);
c.setTargetCell(a);c.commentCell=k;c.editable.source=!1;return c};f=p.prototype=f.extend(p);f.getListHeadings=function(){var b=this.t||{_x:function(b){return b}};return[b._x("Source text","Editor"),b._x("Translation","Editor")]};f.getListColumns=function(){return{source:0,target:1}};f.getListEntry=function(b){if(!b)return["",""];var c=this.cellText,a=[c(b.id||b.source()||""),c(b.translation()||"")];if(b=b.context())a[0]+=" [ "+c(b)+" ]";return a};f.stats=function(){var b=this.po,c=b.length,a=0,d=
0,f=0;b.each(function(b,c){c.fuzzy()?f++:c.translated()?a++:d++});return{t:c,p:a.percent(c)+"%",f:f,u:d}};f.unlock=function(){this._unlocked||(this._unlocked=this.targetLocale,delete this.targetLocale,this.po&&this.po.unlock(),this.editable={source:!0,context:!0,target:!1},this.contextCell=this.targetCell,delete this.targetCell,this.fire("poLock",[!1]),this.active&&this.loadMessage(this.active))};f.lock=function(){var b;this._unlocked&&(b=this.targetLocale=this._unlocked,delete this._unlocked,this.po&&
this.po.lock(b),this.editable={source:!1,context:!1,target:!0},this.targetCell=this.contextCell,delete this.contextCell,this.fire("poLock",[!0,b]),this.active&&this.loadMessage(this.active))};f.locked=function(){return!this._unlocked};f.sort=function(b,c){this.po.sort(function(a,c){return(a[b][0]||"").localeCompare(c[b][0]||"")});this.dict&&this.rebuildSearch();this.reload();return this};return d}({},u,y));l.register("$13",function(d,f,l){var p={copy:66,clear:75,save:83,fuzzy:85,next:40,prev:38,enter:13,
invis:73},b={38:!0,40:!0,73:!0},c={66:function(a,b){var c=b.current();c&&(c.normalize(),b.focus().pasteMessage(c))},75:function(a,b){var c=b.current();c&&(c.untranslate(),b.focus().pasteMessage(c))},85:function(a,b){b.focus().fuzzy(!b.fuzzy())},13:function(a,b){b.getFirstEditable()&&b.next(1,!0,!0)},40:function(a,b){var c=a.shiftKey;b.next(1,c,c)},38:function(a,b){var c=a.shiftKey;b.next(-1,c,c)},73:function(a,b){if(!a.shiftKey)return!1;b.setInvs(!b.getInvs())}};d.init=function(a,d){function m(d){if(d.isDefaultPrevented()||
!d.metaKey&&!d.ctrlKey)return!0;var f=d.which;if(!e[f])return!0;var g=c[f];if(!g)throw Error("command undefined #"+f);if(d.altKey||d.shiftKey&&!b[f]||!1===g(d,a))return!0;d.stopPropagation();d.preventDefault();return!1}var e={};h(d||f).on("keydown",m);return{add:function(a,b){c[p[a]]=b;return this},enable:function(){var a,b;for(b in arguments)a=p[arguments[b]],e[a]=!0;return this},disable:function(){h(d||f).off("keydown",m);a=d=e=null}}};return d}({},u,y));l.register("$27",function(d,f,h){function l(b,
c){var a=RegExp("^.{0,"+(b-1)+"}["+c+"]"),d=RegExp("^[^"+c+"]+");return function(c,e){for(var f=c.length,h;f>b;){h=a.exec(c)||d.exec(c);if(null==h)break;h=h[0];e.push(h);h=h.length;f-=h;c=c.substr(h)}0!==f&&e.push(c);return e}}d.create=function(b){function c(a){return q[a]||"\\"+a}var a,d,f=/(?:\r\n|[\r\n\v\f\u2028\u2029])/g,e=/[ \r\n]+/g,h=/[\t\v\f\x07\x08\\\"]/g,q={"\t":"\\t","\v":"\\v","\f":"\\f","\u0007":"\\a","\b":"\\b"};if(null==b||isNaN(b=Number(b)))b=79;0<b&&(a=l(b-3," "),d=l(b-2,"-\u2013 \\.,:;\\?!\\)\\]\\}\\>"));
return{pair:function(a,e){if(!e)return a+' ""';e=e.replace(h,c);var q=0;e=e.replace(f,function(){q++;return"\\n\n"});if(!(q||b&&b<e.length+a.length+3))return a+' "'+e+'"';var l=[a+' "'],p=e.split("\n");if(d)for(var n=-1,u=p.length;++n<u;)d(p[n],l);else l=l.concat(p);return l.join('"\n"')+'"'},prefix:function(a,b){var c=a.split(f);return b+c.join("\n"+b)},refs:function(b){b=b.replace(e," ",b);a&&(b=a(b,[]).join("\n#: "));return"#: "+b}}};return d}({},u,y));l.register("$38",function(d,f,h){function l(){this.length=
0}d.init=function(){return new l};f=l.prototype;f.push=function(b){this[this.length++]=b;return this};f.sort=function(b){[].sort.call(this,b);return this};f.each=function(b){for(var c=-1,a=this.length;++c<a;)b(c,this[c]);return this};return d}({},u,y));l.register("$28",function(d,f,h){function p(){}d.extend=function(b){return b.prototype=new p};f=p.prototype=l.require("$36","abstract.js").init(["add","load"]);f.row=function(b){return this.rows[b]};f.lock=function(b){return this.locale(b||{lang:"zxx",
label:"Unknown",nplurals:1,pluraleq:"n!=1"})};f.unlock=function(){var b=this.loc;this.loc=null;return b};f.locale=function(b){null==b?b=this.loc:this.loc=b=l.require("$6","locale.js").cast(b);return b};f.each=function(b){this.rows.each(b);return this};f.indexOf=function(b){"object"!==typeof b&&(b=this.get(b));if(!b)return-1;null==b.idx&&(b.idx=this.rows.indexOf(b.hash()));return b.idx};f.get=function(b){return this.rows&&this.rows.get(b)};f.del=function(b){b=this.indexOf(b);if(-1!==b){var c=this.rows.cut(b,
1);if(c&&c.length)return this.length=this.rows.length,this.rows.each(function(a,b,c){b.idx=c}),b}};f.reIndex=function(b,c){var a=this.indexOf(b),d=b.hash(),f=this.rows.indexOf(d);return f===a?a:-1!==f?(c=(c||0)+1,b.source("Error, duplicate "+String(c)+": "+b.source()),this.reIndex(b,c)):this.rows.key(a,d)};f.sort=function(b){this.rows.sort(b);return this};f["export"]=function(){for(var b=-1,c=this.rows,a=c.length,d=l.require("$38","list.js").init();++b<a;)d.push(c[b]);return d};f=null;return d}({},
u,y));l.register("$29",function(d,f,h){function l(){this.id=this._id=this.ref=this.cmt=this.xcmt=""}d.extend=function(b){return b.prototype=new l};f=l.prototype;f.flag=function(b,c){var a=this.flg||(this.flg=[]);if(null!=c)a[c]=b;else for(var d=Math.max(a.length,this.src.length,this.msg.length);0!==d--;)a[d]=b;return this};f.flagged=function(b){var c=this.flg||[];if(null!=b)return c[b]||0;for(b=c.length;0!==b--;)if(c[b])return!0;return!1};f.flags=function(){for(var b,c={},a=[],d=this.flg||[],f=d.length;0!==
f--;)b=d[f],c[b]||(c[b]=!0,a.push(b));return a};f.flaggedAs=function(b,c){var a=this.flg||[];if(null!=c)return b===a[c]||0;for(var d=a.length;0!==d--;)if(a[d]===b)return!0;return!1};f.fuzzy=function(b,c){var a=this.flaggedAs(4,b);null!=c&&this.flag(c?4:0,b);return a};f.source=function(b,c){if(null==b)return this.src[c||0]||"";this.src[c||0]=b;return this};f.plural=function(b,c){if(null==b)return this.src[c||1]||"";this.src[c||1]=b||"";return this};f.each=function(b){for(var c=-1,a=this.src,d=this.msg,
f=Math.max(a.length,d.length);++c<f;)b(c,a[c],d[c]);return this};f.count=function(){return Math.max(this.src.length,this.msg.length)};f.pluralized=function(){return 1<this.src.length||1<this.msg.length};f.translate=function(b,c){this.msg[c||0]=b||"";return this};f.untranslate=function(b){if(null!=b)this.msg[b]="";else{var c=this.msg,a=c.length;for(b=0;b<a;b++)c[b]=""}return this};f.translation=function(b){return this.msg[b||0]||""};f.errors=function(b){return this.err&&this.err[b||0]||[]};f.translated=
function(b){if(null!=b)return!!this.msg[b];var c=this.msg,a=c.length;for(b=0;b<a;b++)if(!c[b])return!1;return!0};f.comment=function(b){if(null==b)return this.cmt;this.cmt=b||"";return this};f.notes=function(b){if(null==b)return this.xcmt;this.xcmt=b||"";return this};f.refs=function(b){if(null==b)return this.ref;this.ref=b||"";return this};f.format=function(b){if(null==b)return this.fmt;this.fmt=b;return this};f.context=function(b){if(null==b)return this.ctx||"";this.ctx=b||"";return this};f.toString=
f.toText=function(){return this.src.concat(this.msg,[this.id,this.ctx]).join(" ")};f.weight=function(){var b=0;this.translation()||(b+=2);this.fuzzy()&&(b+=1);return b};f.equals=function(b){return this===b||this.hash()===b.hash()};f.hash=function(){return this.id};f.normalize=function(){for(var b=this.msg.length;0!==b--;)this.msg[b]=this.src[b]||""};f.disabled=function(b){return!!(this.lck||[])[b||0]};f.disable=function(b){(this.lck||(this.lck=[]))[b||0]=!0;return this};f.saved=function(b){var c=
this.drt;if(!c)return!0;if(null!=b)return!c[b];for(b=c.length;0!==b--;)if(c[b])return!1;return!0};f.unsave=function(b){(this.drt||(this.drt=[]))[b||0]=!0;return this};f.save=function(b){var c=this.drt;null==b?this.drt=null:c[b]=!1;return this};f.is=function(b){return b&&(b===this||b.idx===this.idx)};f.isHTML=function(b){if(null==b)return this.htm||!1;this.htm=b};f=null;return d}({},u,y));l.register("$14",function(d,f,h){function p(a){return{"Project-Id-Version":"PACKAGE VERSION","Report-Msgid-Bugs-To":"",
"POT-Creation-Date":a||"","PO-Revision-Date":a||"","Last-Translator":"","Language-Team":"",Language:"","Plural-Forms":"","MIME-Version":"1.0","Content-Type":"text/plain; charset=UTF-8","Content-Transfer-Encoding":"8bit"}}function b(a,b){var c=a||"";b&&(c+="\x00"+b);return c}function c(){return l.require("$26","collection.js").init()}function a(a){return l.require("$27","format.js").create(a)}function g(a){this.locale(a);this.length=0;this.rows=c();this.head=p(this.now())}function m(a,b){this.src=
[a||""];this.msg=[b||""]}d.create=function(a){return new g(a)};f=l.require("$28","messages.js").extend(g);f.now=function(){function a(b,c){for(var d=String(b);d.length<c;)d="0"+d;return d}var b=new Date,c=b.getUTCFullYear(),d=b.getUTCMonth()+1,f=b.getUTCDate(),g=b.getUTCHours(),b=b.getUTCMinutes();return a(c,4)+"-"+a(d,2)+"-"+a(f,2)+" "+a(g,2)+":"+a(b,2)+"+0000"};f.header=function(a,b){var c=this.head||(this.head={});if(null==b)return this.headers()[a]||"";c[a]=b||"";return this};f.headers=function(a){var b,
c=this.now(),d=this.head||(this.head=p(c));if(null!=a){for(b in a)d[b]=a[b];return this}var f=this.locale();a={};for(b in d)a[b]=String(d[b]);f?(a.Language=String(f)||"zxx",a["Language-Team"]=f.label||a.Language,a["Plural-Forms"]="nplurals="+(f.nplurals||"2")+"; plural="+(f.pluraleq||"n!=1")+";",b="PO-Revision-Date"):(a.Language="",a["Plural-Forms"]="nplurals=INTEGER; plural=EXPRESSION;",a["PO-Revision-Date"]="YEAR-MO-DA HO:MI+ZONE",b="POT-Creation-Date");a[b]||(a[b]=c);a["X-Generator"]="Loco https://localise.biz/";
return a};f.get=function(a,c){var d=b(a,c);return this.rows.get(d)};f.add=function(a,b){a instanceof m||(a=new m(a));b&&a.context(b);var c=a.hash();if(this.rows.get(c))throw Error("Duplicate message at index "+this.indexOf(a));a.idx=this.rows.add(c,a);this.length=this.rows.length;return a};f.load=function(a){for(var b=-1,c,d,f,g,h,l,n=(f=this.locale())&&f.nplurals||2,p=[];++b<a.length;)c=a[b],null==c.parent?(d=c.source||c.id,f=c.target||"",g=c.context,d||g?(h=new m(d,f),h._id=c._id,g&&h.context(g),
c.flag&&h.flag(c.flag,0),c.comment&&h.comment(c.comment),c.notes&&h.notes(c.notes),c.refs&&h.refs(c.refs),h.format(c.format),c.message=h,this.add(h)):0===b&&"object"===typeof f&&(this.head=f,this.headcmt=c.comment)):p.push(c);for(b=-1;++b<p.length;)try{c=p[b];d=c.source||c.id;h=a[c.parent]&&a[c.parent].message;if(!h)throw Error("parent missing for plural "+d);l=c.plural;1===l&&h.plural(d);l>=n||(c.flag&&h.flag(c.flag,l),h.translate(c.target||"",l),c.format&&!h.format()&&h.format(c.format))}catch(u){}return this};
f.merge=function(a){var b=this,d,f=a.header("POT-Creation-Date"),g=b.rows,h=[],m=[];a=a.rows;b.rows.each(function(b,c){null==a.get(b)&&m.push(c)});b.rows=c();a.each(function(a,c){try{(d=g.get(a))?(d.ref=c.ref,d.fmt=c.fmt):(d=c,h.push(d)),b.add(d)}catch(e){}});f&&b.header("POT-Creation-Date",f);return{add:h,del:m}};f.wrap=function(b){this.fmtr=a(b);return this};f.toString=function(){var b,c=this.locale(),d=[],f=[],g=this.headers(),h=!c,l=c&&c.nplurals||2,p=this.fmtr||a();g[c?"PO-Revision-Date":"POT-Creation-Date"]=
this.now();for(b in g)f.push(b+": "+g[b]);f=new m("",f.join("\n"));f.comment(this.headcmt||"");h&&f.fuzzy(0,!0);d.push(f.toString());d.push("");this.rows.each(function(a,b){a&&(d.push(b.cat(p,h,l)),d.push(""))});return d.join("\n")};f=l.require("$29","message.js").extend(m);f.hash=function(){return b(this.source(),this.context())};f.toString=function(){return this.cat(a())};f.cat=function(a,b,c){var d,f=[],g;(g=this.cmt)&&f.push(a.prefix(g,"# "));(g=this.xcmt)&&f.push(a.prefix(g,"#. "));d=this.ref;
if(g=this._id)d+=(d?" ":"")+"loco:"+g;d&&/\S/.test(d)&&f.push(a.refs(d));!b&&this.fuzzy()&&f.push("#, fuzzy");(g=this.fmt)&&f.push("#, "+g+"-format");(g=this.ctx)&&f.push(a.pair("msgctxt",g));f.push(a.pair("msgid",this.src[0]));if(null==this.src[1])f.push(a.pair("msgstr",b?"":this.msg[0]));else for(d=-1,f.push(a.pair("msgid_plural",this.src[1])),g=this.msg||["",""],c=c||g.length;++d<c;)f.push(a.pair("msgstr["+d+"]",b?"":g[d]||""));return f.join("\n")};f.compare=function(a,b){var c=this.weight(),d=
a.weight();if(c>d)return 1;if(c<d)return-1;if(b){c=this.hash().toLowerCase();d=a.hash().toLowerCase();if(c<d)return 1;if(c>d)return-1}return 0};f=f=null;return d}({},u,y));l.register("$16",function(d,f,l){d.init=function(d){function b(){h(r).addClass("jshide");z&&y&&h(z).removeClass("jshide").hide().fadeIn(500)}function c(){if(y)return G&&G.dialog("close"),b(),h(d).find('button[type="submit"]').attr("disabled",!1),h(f).triggerHandler("resize"),s&&s(!0),!0;F&&G?(h(r).removeClass("jshide").hide().fadeIn(500),
z&&h(z).addClass("jshide")):b();h(d).find('input[type="submit"]').attr("disabled",!0);s&&s(!1);return!1}function a(a){var b,c;for(b in u)c=u[b],a[b]?a[b].value=c:h('<input type="hidden" />').attr("name",b).appendTo(a).val(c)}function g(a){a.preventDefault();a=h(a.target).serializeArray();t(a);n=!0;return!1}function m(a){a.preventDefault();G.dialog("close");return!1}function e(a){a.preventDefault();G.dialog("open");return!1}function k(b){u=b.authed&&b.creds;v=b.method;b.notice&&D.notices.info(b.notice);
if(u)"direct"!==v&&(a(d),n&&b.success&&D.notices.success(b.success)),y=!0,c();else if(y=!1,b.reason)D.notices.info(b.reason);else if(b=b.prompt){var k;G||(w.click(e),G=h('<div id="loco-fs-creds"></div>').dialog({dialogClass:"request-filesystem-credentials-dialog loco-modal",minWidth:580,modal:!0,autoOpen:!1,closeOnEscape:!0}));k=G;k.html(b).find("form").submit(g);k.dialog("option","title",k.find("h2").remove().text());k.find("button.cancel-button").show().click(m);k.find('input[type="submit"]').addClass("button-primary");
c();h(f).triggerHandler("resize")}else D.notices.error("Server didn't return credentials, nor a prompt for credentials")}function q(){c()}function t(a){n=!1;a.path=F;a.auth=C;D.ajax.setNonce("fsConnect",B).post("fsConnect",a,k,q);return a}var u,s,r=d,v=null,n=!1,y=!1,D=f.locoScope,F=d.path.value,C=d.auth.value,B=d["loco-nonce"].value,w=h(r).find("button.button-primary"),z=l.getElementById(r.id+"-warn"),G;z&&D.notices.convert(z).stick();d.connection_type?(u={},u.connection_type=d.connection_type.value,
y=!0):F&&C&&t({});c();return{applyCreds:function(b){if(b.nodeType)a(b);else{var c,d=u||{};for(c in d)b[c]=d[c]}return this},setForm:function(b){d=b;c();a(b);return this},connect:function(){F=d.path.value;C=d.auth.value;t(h(d).serializeArray());return this},listen:function(a){s=a;y&&a(!0);return this}}};return d}({},u,y));l.register("$17",function(d,f,u){function p(d,e,f,h){e="n"===f?c(e):a(e);h&&(e=g(e));return b([].sort,[e])(d)}function b(a,b){return function(c){a.apply(c,b);return c}}function c(a){return function(b,
c){var d=b&&b[a]||0,f=c&&c[a]||0;return d===f?0:d>f?1:-1}}function a(a){return function(b,c){return(b&&b[a]||"").localeCompare(c&&c[a]||"")}}function g(a){return function(b,c){return-1*a(b,c)}}d.init=function(a){function b(a){var c=-1,d=a.length;for(h("tr",n).remove();++c<d;)n.appendChild(a[c].$)}function c(a){s=a?y.find(a,d):d.slice(0);v&&(a=f[v],s=p(s,v,a.type,a.desc));b(s)}var d=[],f=[],g=0,s,r,v,n=a.getElementsByTagName("tbody")[0],u=a.getElementsByTagName("thead")[0],y=l.require("$7","fulltext.js").init();
u&&n&&(h("th",u).each(function(a,c){var k=c.getAttribute("data-sort-type");k&&(a=g,h(c).addClass("loco-sort").click(function(c){c.preventDefault();c=a;var g=f[c],k=g.type,l=!(g.desc=!g.desc);s=p(s||d.slice(0),c,k,l);b(s);r&&r.removeClass("loco-desc loco-asc");r=h(g.$).addClass(l?"loco-desc":"loco-asc").removeClass(l?"loco-asc":"loco-desc");v=c;return!1}),f[g]={$:c,type:k});c.hasAttribute("colspan")?g+=Number(c.getAttribute("colspan")):g++}),h("tr",n).each(function(a,b){var c,e,g,h=[],k={_:a,$:b},
l=b.getElementsByTagName("td");for(e in f){c=l[e];(g=c.textContent.replace(/(^\s+|\s+$)/g,""))&&h.push(g);c.hasAttribute("data-sort-value")&&(g=c.getAttribute("data-sort-value"));switch(f[e].type){case "n":g=Number(g)}k[e]=g}d[a]=k;y.index(a,h)}),a=h('form.loco-filter input[type="text"]',a.parentNode),a.length&&(a=a[0],u=h(a.form),1<d.length?l.require("$8","LocoTextListener.js").listen(a,c):u.hide(),u.on("submit",function(a){a.preventDefault();return!1})))};return d}({},u,y));var H=u.locoScope||(u.locoScope=
{});u=u.locoConf||(u.locoConf={});y=l.require("$1","t.js").init();var Q=u.wplang;l.require("$2","array.js");H.l10n=y;y.load(u.wpl10n);Q&&y.pluraleq(Q.pluraleq);H.string=l.require("$3","string.js");H.notices=l.require("$4","notices.js").init(y);H.ajax=l.require("$5","ajax.js").init(u).localise(y);H.locale=l.require("$6","locale.js");H.fulltext=l.require("$7","fulltext.js");H.watchtext=l.require("$8","LocoTextListener.js").listen;H.selector=l.require("$9","LocoSelector.js").create;H.autocomp=l.require("$10",
"LocoAutoComplete.js").init;H.tooltip=l.require("$11","tooltip.js");H.po={ed:l.require("$12","poedit.js"),kbd:l.require("$13","hotkeys.js"),init:l.require("$14","po.js").create,ace:l.require("$15","ace.js").strf("php")};H.fs=l.require("$16","fsconn.js");h("#loco.wrap table.wp-list-table").each(function(d,f){l.require("$17","tables.js").init(f)})})(window,document,window.jQuery);